<div *ngIf="user" class="flex justify-center mt-10">
  <div class="bg-white shadow-xl rounded-2xl p-6 w-96 text-center">
    
    <!-- Avatar -->
    <img [src]="avatarUrl" 
         alt="User Avatar" 
         class="w-24 h-24 mx-auto rounded-full border-4 border-indigo-500 shadow-md">

    <!-- Username -->
    <div class="mt-4 flex items-center justify-center space-x-1">
      <h2 class="text-2xl font-bold text-gray-800">{{ user.username }}</h2>
      <button mat-icon-button color="primary" 
              class="p-1"
              (click)="showUsernameInput = !showUsernameInput" 
              aria-label="Edit username">
        <mat-icon class="text-sm">edit</mat-icon>
      </button>
    </div>

    <!-- Username input -->
    <div *ngIf="showUsernameInput" class="mt-2 flex items-center justify-center space-x-2">
      <input [(ngModel)]="newUsername"
             placeholder="New username"
             class="border border-gray-300 rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-400" />
      <button mat-raised-button color="primary" 
              (click)="updateUsername(user!.id, newUsername)">
        Save
      </button>
    </div>

    <!-- Email -->
    <div class="mt-4 flex items-center justify-center space-x-1">
      <p class="text-gray-500">{{ user.email }}</p>
      <button mat-icon-button color="primary" 
              class="p-1"
              (click)="showEmailInput = !showEmailInput" 
              aria-label="Edit email">
        <mat-icon class="text-sm">edit</mat-icon>
      </button>
    </div>

    <!-- Email input -->
    <div *ngIf="showEmailInput" class="mt-2 flex items-center justify-center space-x-2">
      <input [(ngModel)]="newEmail"
             type="email"
             placeholder="New email"
             class="border border-gray-300 rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-400" />
      <button mat-raised-button color="primary" 
              (click)="updateEmail(user!.id, newEmail)">
        Save
      </button>
    </div>

  </div>
</div>
