2025-09-03 03:14:13 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-03 03:14:13 [Information] Now listening on: "http://localhost:5062"
2025-09-03 03:14:13 [Information] Application started. Press Ctrl+C to shut down.
2025-09-03 03:14:13 [Information] Hosting environment: "Development"
2025-09-03 03:14:13 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-03 03:15:28 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - null null
2025-09-03 03:15:28 [Warning] Failed to determine the https port for redirect.
2025-09-03 03:15:28 [Information] CORS policy execution successful.
2025-09-03 03:15:28 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - 204 null null 88.669ms
2025-09-03 03:15:28 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 53
2025-09-03 03:15:28 [Information] CORS policy execution successful.
2025-09-03 03:15:28 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 03:15:28 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 03:15:30 [Information] Executed DbCommand ("94"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 03:15:30 [Information] User "test7" logged in successfully at 09/03/2025 00:15:30
2025-09-03 03:15:30 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:15:30 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 2503.9735ms
2025-09-03 03:15:30 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 03:15:30 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 2553.7578ms
2025-09-03 03:15:34 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:15:34 [Information] CORS policy execution successful.
2025-09-03 03:15:34 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 8.6403ms
2025-09-03 03:15:34 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:15:34 [Information] CORS policy execution successful.
2025-09-03 03:15:34 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:15:34 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:15:34 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:15:34 [Information] Executed DbCommand ("19"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:15:34 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:15:34 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 210.251ms
2025-09-03 03:15:34 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:15:34 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 281.4931ms
2025-09-03 03:15:38 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - null null
2025-09-03 03:15:38 [Information] CORS policy execution successful.
2025-09-03 03:15:38 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - 204 null null 3.3655ms
2025-09-03 03:15:38 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 15
2025-09-03 03:15:38 [Information] CORS policy execution successful.
2025-09-03 03:15:38 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:15:38 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(System.String)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:15:38 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-09-03 03:15:38 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 24.4744ms
2025-09-03 03:15:38 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:15:38 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 400 null "application/problem+json; charset=utf-8" 39.4159ms
2025-09-03 03:15:48 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - null null
2025-09-03 03:15:48 [Information] CORS policy execution successful.
2025-09-03 03:15:48 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - 204 null null 3.1389ms
2025-09-03 03:15:48 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 15
2025-09-03 03:15:48 [Information] CORS policy execution successful.
2025-09-03 03:15:48 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:15:48 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(System.String)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:15:48 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-09-03 03:15:48 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 7.8742ms
2025-09-03 03:15:48 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:15:48 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 400 null "application/problem+json; charset=utf-8" 20.0662ms
2025-09-03 03:15:49 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 15
2025-09-03 03:15:49 [Information] CORS policy execution successful.
2025-09-03 03:15:49 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:15:49 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(System.String)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:15:49 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-09-03 03:15:49 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 1.9935ms
2025-09-03 03:15:49 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:15:49 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 400 null "application/problem+json; charset=utf-8" 9.7286ms
2025-09-03 03:19:20 [Information] Application is shutting down...
2025-09-03 03:19:27 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-03 03:19:27 [Information] Now listening on: "http://localhost:5062"
2025-09-03 03:19:27 [Information] Application started. Press Ctrl+C to shut down.
2025-09-03 03:19:27 [Information] Hosting environment: "Development"
2025-09-03 03:19:27 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-03 03:19:30 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - null null
2025-09-03 03:19:30 [Warning] Failed to determine the https port for redirect.
2025-09-03 03:19:30 [Information] CORS policy execution successful.
2025-09-03 03:19:30 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - 204 null null 61.6857ms
2025-09-03 03:19:30 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 15
2025-09-03 03:19:30 [Information] CORS policy execution successful.
2025-09-03 03:19:30 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:19:30 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(Api.IOU.DTOs.CreateSessionDTO)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:19:32 [Information] Executed DbCommand ("76"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Sessions` (`CreatedAt`, `CreatedById`, `Name`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Sessions`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 03:19:32 [Information] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 03:19:32 [Information] Session "test" created by user 7
2025-09-03 03:19:32 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:19:32 [Information] Session Created with ID: 2
2025-09-03 03:19:32 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.SessionDTO"'.
2025-09-03 03:19:32 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 1519.5553ms
2025-09-03 03:19:32 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:19:32 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 200 null "application/json; charset=utf-8" 1610.3255ms
2025-09-03 03:19:32 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:19:32 [Information] CORS policy execution successful.
2025-09-03 03:19:32 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 11.3287ms
2025-09-03 03:19:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:19:32 [Information] CORS policy execution successful.
2025-09-03 03:19:32 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:19:32 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:19:32 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:19:32 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:19:32 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:19:32 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 200.0436ms
2025-09-03 03:19:32 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:19:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 226.666ms
2025-09-03 03:19:40 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - null null
2025-09-03 03:19:40 [Information] CORS policy execution successful.
2025-09-03 03:19:40 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - 204 null null 3.1882ms
2025-09-03 03:19:40 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 17
2025-09-03 03:19:40 [Information] CORS policy execution successful.
2025-09-03 03:19:40 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:19:40 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(Api.IOU.DTOs.CreateSessionDTO)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:19:40 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Sessions` (`CreatedAt`, `CreatedById`, `Name`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Sessions`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 03:19:40 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 03:19:40 [Information] Session "test 2" created by user 7
2025-09-03 03:19:40 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:19:40 [Information] Session Created with ID: 3
2025-09-03 03:19:40 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.SessionDTO"'.
2025-09-03 03:19:40 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 44.8967ms
2025-09-03 03:19:41 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:19:41 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 200 null "application/json; charset=utf-8" 59.6661ms
2025-09-03 03:19:41 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:19:41 [Information] CORS policy execution successful.
2025-09-03 03:19:41 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 6.834ms
2025-09-03 03:19:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:19:41 [Information] CORS policy execution successful.
2025-09-03 03:19:41 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:19:41 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:19:41 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:19:41 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:19:41 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:19:41 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 14.5044ms
2025-09-03 03:19:41 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:19:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 24.9424ms
2025-09-03 03:21:09 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:21:09 [Information] CORS policy execution successful.
2025-09-03 03:21:09 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 2.5292ms
2025-09-03 03:21:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:21:09 [Information] CORS policy execution successful.
2025-09-03 03:21:09 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:21:09 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:21:09 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:21:09 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:21:09 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:21:09 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 15.4221ms
2025-09-03 03:21:09 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:21:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 35.4838ms
2025-09-03 03:22:51 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:22:51 [Information] CORS policy execution successful.
2025-09-03 03:22:51 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 4.7118ms
2025-09-03 03:22:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:22:51 [Information] CORS policy execution successful.
2025-09-03 03:22:51 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:22:51 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:22:51 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:22:51 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:22:51 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:22:51 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 18.7558ms
2025-09-03 03:22:51 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:22:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 27.3055ms
2025-09-03 03:30:35 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:30:35 [Information] CORS policy execution successful.
2025-09-03 03:30:35 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 4.2652ms
2025-09-03 03:30:35 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:30:35 [Information] CORS policy execution successful.
2025-09-03 03:30:35 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:30:35 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:30:35 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:30:35 [Information] Executed DbCommand ("20"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:30:35 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:30:35 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 68.2383ms
2025-09-03 03:30:35 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:30:35 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 79.7821ms
2025-09-03 03:32:03 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:32:03 [Information] CORS policy execution successful.
2025-09-03 03:32:03 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 3.9037ms
2025-09-03 03:32:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:32:03 [Information] CORS policy execution successful.
2025-09-03 03:32:03 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:32:03 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:32:03 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:32:03 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:32:03 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:32:03 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 11.5346ms
2025-09-03 03:32:03 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:32:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 22.5645ms
2025-09-03 03:32:25 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:32:25 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:32:25 [Information] CORS policy execution successful.
2025-09-03 03:32:25 [Information] CORS policy execution successful.
2025-09-03 03:32:25 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 10.4493ms
2025-09-03 03:32:25 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - 204 null null 9.2713ms
2025-09-03 03:32:25 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:32:25 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:32:25 [Information] CORS policy execution successful.
2025-09-03 03:32:25 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:32:25 [Information] CORS policy execution successful.
2025-09-03 03:32:25 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:32:25 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - 404 0 null 19.0035ms
2025-09-03 03:32:25 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/api/user/friendship/friends", Response status code: 404
2025-09-03 03:32:25 [Information] Executed DbCommand ("17"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:32:25 [Information] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:32:25 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:32:25 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 40.6873ms
2025-09-03 03:32:25 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:32:25 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 76.6187ms
2025-09-03 03:34:56 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:34:56 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:34:56 [Information] CORS policy execution successful.
2025-09-03 03:34:56 [Information] CORS policy execution successful.
2025-09-03 03:34:56 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 8.2691ms
2025-09-03 03:34:56 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - 204 null null 9.239ms
2025-09-03 03:34:56 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:34:56 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:34:56 [Information] CORS policy execution successful.
2025-09-03 03:34:56 [Information] CORS policy execution successful.
2025-09-03 03:34:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - 404 0 null 9.7059ms
2025-09-03 03:34:56 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:34:56 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/api/user/friendship/friends", Response status code: 404
2025-09-03 03:34:56 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:34:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:34:56 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:34:56 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:34:56 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 10.6312ms
2025-09-03 03:34:56 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:34:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 29.2955ms
2025-09-03 03:35:09 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:35:09 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:35:09 [Information] CORS policy execution successful.
2025-09-03 03:35:09 [Information] CORS policy execution successful.
2025-09-03 03:35:09 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 8.5128ms
2025-09-03 03:35:09 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - 204 null null 9.1721ms
2025-09-03 03:35:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:35:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:35:09 [Information] CORS policy execution successful.
2025-09-03 03:35:09 [Information] CORS policy execution successful.
2025-09-03 03:35:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - 404 0 null 10.4798ms
2025-09-03 03:35:09 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:35:09 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/api/user/friendship/friends", Response status code: 404
2025-09-03 03:35:09 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:35:09 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:35:09 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:35:09 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:35:09 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 16.4969ms
2025-09-03 03:35:09 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:35:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 48.6173ms
2025-09-03 03:35:53 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:35:53 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:35:53 [Information] CORS policy execution successful.
2025-09-03 03:35:53 [Information] CORS policy execution successful.
2025-09-03 03:35:53 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 31.5886ms
2025-09-03 03:35:53 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - 204 null null 36.3704ms
2025-09-03 03:35:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:35:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:35:53 [Information] CORS policy execution successful.
2025-09-03 03:35:53 [Information] CORS policy execution successful.
2025-09-03 03:35:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - 404 0 null 12.3832ms
2025-09-03 03:35:53 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:35:53 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/api/user/friendship/friends", Response status code: 404
2025-09-03 03:35:53 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:35:53 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:35:53 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:35:53 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:35:53 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 12.8631ms
2025-09-03 03:35:53 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:35:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 32.7076ms
2025-09-03 03:36:03 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:36:03 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:36:03 [Information] CORS policy execution successful.
2025-09-03 03:36:03 [Information] CORS policy execution successful.
2025-09-03 03:36:03 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 113.5623ms
2025-09-03 03:36:03 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - 204 null null 99.5259ms
2025-09-03 03:36:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:36:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:36:03 [Information] CORS policy execution successful.
2025-09-03 03:36:03 [Information] CORS policy execution successful.
2025-09-03 03:36:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - 404 0 null 9.012ms
2025-09-03 03:36:03 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/api/user/friendship/friends", Response status code: 404
2025-09-03 03:36:03 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:36:03 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:36:03 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:36:03 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:36:03 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:36:03 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 15.6706ms
2025-09-03 03:36:03 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:36:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 33.8112ms
2025-09-03 03:37:40 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:37:40 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:37:40 [Information] CORS policy execution successful.
2025-09-03 03:37:40 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 21.5323ms
2025-09-03 03:37:40 [Information] CORS policy execution successful.
2025-09-03 03:37:40 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - 204 null null 50.197ms
2025-09-03 03:37:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:37:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:37:40 [Information] CORS policy execution successful.
2025-09-03 03:37:40 [Information] CORS policy execution successful.
2025-09-03 03:37:40 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:37:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - 404 0 null 11.8453ms
2025-09-03 03:37:40 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/api/user/friendship/friends", Response status code: 404
2025-09-03 03:37:40 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:37:40 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:37:40 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:37:40 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:37:40 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 30.8713ms
2025-09-03 03:37:40 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:37:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 53.2457ms
2025-09-03 03:37:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:37:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:37:44 [Information] CORS policy execution successful.
2025-09-03 03:37:44 [Information] CORS policy execution successful.
2025-09-03 03:37:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - 404 0 null 68.1859ms
2025-09-03 03:37:44 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:37:44 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/api/user/friendship/friends", Response status code: 404
2025-09-03 03:37:44 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:37:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:37:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:37:44 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:37:44 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 21.2103ms
2025-09-03 03:37:44 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:37:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 110.0106ms
2025-09-03 03:38:37 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:38:37 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:38:37 [Information] CORS policy execution successful.
2025-09-03 03:38:37 [Information] CORS policy execution successful.
2025-09-03 03:38:37 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 72.8872ms
2025-09-03 03:38:37 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/friendship/friends""" - 204 null null 61.4176ms
2025-09-03 03:38:37 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:38:37 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - null null
2025-09-03 03:38:37 [Information] CORS policy execution successful.
2025-09-03 03:38:37 [Information] CORS policy execution successful.
2025-09-03 03:38:37 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:38:37 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:38:37 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/friendship/friends""" - 404 0 null 14.2802ms
2025-09-03 03:38:37 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:38:37 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/api/user/friendship/friends", Response status code: 404
2025-09-03 03:38:37 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:38:37 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:38:37 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 18.1052ms
2025-09-03 03:38:37 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:38:37 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 49.5891ms
2025-09-03 03:40:33 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:40:33 [Information] CORS policy execution successful.
2025-09-03 03:40:33 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 2.558ms
2025-09-03 03:40:33 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:40:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:40:33 [Information] CORS policy execution successful.
2025-09-03 03:40:33 [Information] CORS policy execution successful.
2025-09-03 03:40:33 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 10.4402ms
2025-09-03 03:40:33 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:40:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:40:33 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:40:33 [Information] CORS policy execution successful.
2025-09-03 03:40:33 [Information] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:40:33 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:40:33 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:40:33 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 03:40:33 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:40:33 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 97.0623ms
2025-09-03 03:40:33 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:40:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 176.7149ms
2025-09-03 03:40:33 [Information] Executed DbCommand ("31"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 03:40:33 [Information] Friendlist for user with ID 7 was found and returned
2025-09-03 03:40:33 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:40:33 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 155.2603ms
2025-09-03 03:40:33 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:40:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 261.7417ms
2025-09-03 03:42:28 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:42:28 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:42:28 [Information] CORS policy execution successful.
2025-09-03 03:42:28 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 25.8422ms
2025-09-03 03:42:28 [Information] CORS policy execution successful.
2025-09-03 03:42:28 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 23.097ms
2025-09-03 03:42:28 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:42:28 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:42:28 [Information] CORS policy execution successful.
2025-09-03 03:42:28 [Information] CORS policy execution successful.
2025-09-03 03:42:28 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:42:28 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:42:28 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 03:42:28 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:42:28 [Information] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 03:42:28 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:42:28 [Information] Friendlist for user with ID 7 was found and returned
2025-09-03 03:42:28 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:42:28 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 80.7448ms
2025-09-03 03:42:28 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:42:28 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 98.4697ms
2025-09-03 03:42:28 [Information] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:42:28 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:42:28 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 88.7783ms
2025-09-03 03:42:28 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:42:28 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 125.9972ms
2025-09-03 03:51:42 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:51:42 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:51:42 [Information] CORS policy execution successful.
2025-09-03 03:51:42 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 6.0604ms
2025-09-03 03:51:42 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:51:42 [Information] CORS policy execution successful.
2025-09-03 03:51:42 [Information] CORS policy execution successful.
2025-09-03 03:51:42 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:51:42 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 12.7372ms
2025-09-03 03:51:42 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:51:42 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:51:42 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:51:43 [Information] CORS policy execution successful.
2025-09-03 03:51:43 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:51:43 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 03:51:43 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:51:43 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:51:43 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 30.4171ms
2025-09-03 03:51:43 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:51:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 43.293ms
2025-09-03 03:51:43 [Information] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 03:51:43 [Information] Friendlist for user with ID 7 was found and returned
2025-09-03 03:51:43 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:51:43 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 25.4327ms
2025-09-03 03:51:43 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:51:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 37.6976ms
2025-09-03 03:51:45 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/add/1""" - null null
2025-09-03 03:51:45 [Information] CORS policy execution successful.
2025-09-03 03:51:45 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/add/1""" - 204 null null 2.602ms
2025-09-03 03:51:45 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/2/add/1""" - "application/json" 2
2025-09-03 03:51:45 [Information] CORS policy execution successful.
2025-09-03 03:51:45 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 03:51:45 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:51:45 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-03 03:51:45 [Information] Executed DbCommand ("128"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:51:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:51:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 03:51:45 [Information] Executed DbCommand ("15"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 03:51:45 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:51:45 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 219.0409ms
2025-09-03 03:51:45 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 03:51:45 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/2/add/1""" - 200 null "application/json; charset=utf-8" 231.6051ms
2025-09-03 03:51:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:51:45 [Information] CORS policy execution successful.
2025-09-03 03:51:45 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:51:45 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:51:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:51:45 [Information] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:51:45 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:51:45 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 14.4558ms
2025-09-03 03:51:45 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:51:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 23.788ms
2025-09-03 03:51:48 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/2/add/1""" - "application/json" 2
2025-09-03 03:51:48 [Information] CORS policy execution successful.
2025-09-03 03:51:48 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 03:51:48 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:51:48 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:51:48 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 03:51:48 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 12.0823ms
2025-09-03 03:51:48 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 03:51:48 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'SessionUser' cannot be tracked because another instance with the same key value for {'SessionId', 'UserId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at Api.IOU.Repositories.SessionUserRepository.AddUserToSessionAsync(SessionUser sessionUser) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Repositories\SessionUserRepository.cs:line 19
   at Api.IOU.Services.SessionService.AddUserToSessionAsync(Int32 sessionId, Int32 ownerId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 58
   at Api.IOU.Controllers.SessionController.AddUserToSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 03:51:48 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/2/add/1""" - 500 null "text/plain; charset=utf-8" 62.6253ms
2025-09-03 03:53:38 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - null null
2025-09-03 03:53:38 [Information] CORS policy execution successful.
2025-09-03 03:53:38 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - 204 null null 2.9367ms
2025-09-03 03:53:38 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 53
2025-09-03 03:53:38 [Information] CORS policy execution successful.
2025-09-03 03:53:38 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 03:53:38 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 03:53:38 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 03:53:38 [Information] User "test1" logged in successfully at 09/03/2025 00:53:38
2025-09-03 03:53:38 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:53:38 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 581.4932ms
2025-09-03 03:53:38 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 03:53:38 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 591.4616ms
2025-09-03 03:53:41 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:53:41 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:53:41 [Information] CORS policy execution successful.
2025-09-03 03:53:41 [Information] CORS policy execution successful.
2025-09-03 03:53:41 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 9.2015ms
2025-09-03 03:53:41 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 11.4413ms
2025-09-03 03:53:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:53:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:53:41 [Information] CORS policy execution successful.
2025-09-03 03:53:41 [Information] CORS policy execution successful.
2025-09-03 03:53:41 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:53:41 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:53:41 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 03:53:41 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:53:41 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 03:53:41 [Information] Friendlist for user with ID 1 was found and returned
2025-09-03 03:53:41 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:53:41 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 9.6341ms
2025-09-03 03:53:41 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:53:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 27.5723ms
2025-09-03 03:53:41 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:53:41 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:53:41 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:53:41 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 20.3295ms
2025-09-03 03:53:41 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:53:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 37.2489ms
2025-09-03 03:53:44 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/add/2""" - null null
2025-09-03 03:53:44 [Information] CORS policy execution successful.
2025-09-03 03:53:44 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/add/2""" - 204 null null 3.3103ms
2025-09-03 03:53:44 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/2/add/2""" - "application/json" 2
2025-09-03 03:53:44 [Information] CORS policy execution successful.
2025-09-03 03:53:44 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 03:53:44 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:53:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:53:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:53:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 03:53:44 [Information] Executed DbCommand ("30"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 03:53:44 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:53:44 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 45.3718ms
2025-09-03 03:53:44 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 03:53:44 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/2/add/2""" - 200 null "application/json; charset=utf-8" 53.1118ms
2025-09-03 03:53:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:53:44 [Information] CORS policy execution successful.
2025-09-03 03:53:44 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:53:44 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:53:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:53:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:53:44 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:53:44 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 9.0301ms
2025-09-03 03:53:44 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:53:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 16.7515ms
2025-09-03 03:54:53 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:54:53 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:54:53 [Information] CORS policy execution successful.
2025-09-03 03:54:53 [Information] CORS policy execution successful.
2025-09-03 03:54:53 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 5.5334ms
2025-09-03 03:54:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:54:53 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 5.5254ms
2025-09-03 03:54:53 [Information] CORS policy execution successful.
2025-09-03 03:54:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:54:53 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:54:53 [Information] CORS policy execution successful.
2025-09-03 03:54:53 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 03:54:53 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:54:53 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:54:53 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 03:54:53 [Information] Friendlist for user with ID 1 was found and returned
2025-09-03 03:54:53 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:54:53 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:54:53 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 10.1213ms
2025-09-03 03:54:53 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:54:53 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:54:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 28.4127ms
2025-09-03 03:54:53 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:54:53 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 17.6948ms
2025-09-03 03:54:53 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:54:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 29.716ms
2025-09-03 03:55:24 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:55:24 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:55:24 [Information] CORS policy execution successful.
2025-09-03 03:55:24 [Information] CORS policy execution successful.
2025-09-03 03:55:24 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 5.5204ms
2025-09-03 03:55:24 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 6.162ms
2025-09-03 03:55:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:55:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:55:24 [Information] CORS policy execution successful.
2025-09-03 03:55:24 [Information] CORS policy execution successful.
2025-09-03 03:55:24 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:55:24 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:55:24 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 03:55:24 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:55:24 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 03:55:24 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:55:24 [Information] Friendlist for user with ID 1 was found and returned
2025-09-03 03:55:24 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:55:24 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:55:24 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 10.9853ms
2025-09-03 03:55:24 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:55:24 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:55:24 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 20.7843ms
2025-09-03 03:55:24 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:55:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 38.042ms
2025-09-03 03:55:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 37.1151ms
2025-09-03 03:58:03 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:58:03 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:58:03 [Information] CORS policy execution successful.
2025-09-03 03:58:03 [Information] CORS policy execution successful.
2025-09-03 03:58:03 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 6.0393ms
2025-09-03 03:58:03 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 6.2962ms
2025-09-03 03:58:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:58:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:58:03 [Information] CORS policy execution successful.
2025-09-03 03:58:03 [Information] CORS policy execution successful.
2025-09-03 03:58:03 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:58:03 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:03 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 03:58:03 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:03 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 03:58:03 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:03 [Information] Friendlist for user with ID 1 was found and returned
2025-09-03 03:58:03 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:03 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 9.9694ms
2025-09-03 03:58:03 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:58:03 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:58:03 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 26.9272ms
2025-09-03 03:58:03 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 12.6583ms
2025-09-03 03:58:03 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 28.1154ms
2025-09-03 03:58:08 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/remove/1""" - null null
2025-09-03 03:58:08 [Information] CORS policy execution successful.
2025-09-03 03:58:08 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/remove/1""" - 204 null null 2.8762ms
2025-09-03 03:58:08 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/1""" - null null
2025-09-03 03:58:08 [Information] CORS policy execution successful.
2025-09-03 03:58:08 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:08 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:08 [Information] Executed DbCommand ("16"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:08 [Error] You're not the session owner
System.UnauthorizedAccessException: Only session owner can remove users
   at Api.IOU.Services.SessionService.RemoveUserFromSessionAsync(Int32 sessionId, Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 185
   at Api.IOU.Controllers.SessionController.RemoveUserFromSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 76
2025-09-03 03:58:08 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-09-03 03:58:08 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 25.1921ms
2025-09-03 03:58:08 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:08 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/1""" - 400 null "text/plain; charset=utf-8" 36.2615ms
2025-09-03 03:58:10 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/1""" - null null
2025-09-03 03:58:10 [Information] CORS policy execution successful.
2025-09-03 03:58:10 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:10 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:10 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:10 [Error] You're not the session owner
System.UnauthorizedAccessException: Only session owner can remove users
   at Api.IOU.Services.SessionService.RemoveUserFromSessionAsync(Int32 sessionId, Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 185
   at Api.IOU.Controllers.SessionController.RemoveUserFromSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 76
2025-09-03 03:58:10 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-09-03 03:58:10 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.5723ms
2025-09-03 03:58:10 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:10 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/1""" - 400 null "text/plain; charset=utf-8" 15.214ms
2025-09-03 03:58:11 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/remove/2""" - null null
2025-09-03 03:58:11 [Information] CORS policy execution successful.
2025-09-03 03:58:11 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/remove/2""" - 204 null null 2.6798ms
2025-09-03 03:58:11 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/2""" - null null
2025-09-03 03:58:11 [Information] CORS policy execution successful.
2025-09-03 03:58:11 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:11 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:11 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:11 [Error] You're not the session owner
System.UnauthorizedAccessException: Only session owner can remove users
   at Api.IOU.Services.SessionService.RemoveUserFromSessionAsync(Int32 sessionId, Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 185
   at Api.IOU.Controllers.SessionController.RemoveUserFromSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 76
2025-09-03 03:58:11 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-09-03 03:58:11 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.3715ms
2025-09-03 03:58:11 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:11 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/2""" - 400 null "text/plain; charset=utf-8" 15.0727ms
2025-09-03 03:58:13 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/remove/7""" - null null
2025-09-03 03:58:13 [Information] CORS policy execution successful.
2025-09-03 03:58:13 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/remove/7""" - 204 null null 2.6598ms
2025-09-03 03:58:13 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/7""" - null null
2025-09-03 03:58:13 [Information] CORS policy execution successful.
2025-09-03 03:58:13 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:13 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:13 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:13 [Error] Cannot remove yourself from session
System.InvalidOperationException: Cannot remove yourself from the session
   at Api.IOU.Services.SessionService.RemoveUserFromSessionAsync(Int32 sessionId, Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 174
   at Api.IOU.Controllers.SessionController.RemoveUserFromSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 76
2025-09-03 03:58:13 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-09-03 03:58:13 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.8408ms
2025-09-03 03:58:13 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:13 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/7""" - 400 null "text/plain; charset=utf-8" 16.3544ms
2025-09-03 03:58:14 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/7""" - null null
2025-09-03 03:58:14 [Information] CORS policy execution successful.
2025-09-03 03:58:14 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:14 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:14 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:14 [Error] Cannot remove yourself from session
System.InvalidOperationException: Cannot remove yourself from the session
   at Api.IOU.Services.SessionService.RemoveUserFromSessionAsync(Int32 sessionId, Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 174
   at Api.IOU.Controllers.SessionController.RemoveUserFromSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 76
2025-09-03 03:58:14 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-09-03 03:58:14 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.3792ms
2025-09-03 03:58:14 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:14 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/7""" - 400 null "text/plain; charset=utf-8" 14.6311ms
2025-09-03 03:58:16 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/7""" - null null
2025-09-03 03:58:16 [Information] CORS policy execution successful.
2025-09-03 03:58:16 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:16 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:16 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:16 [Error] Cannot remove yourself from session
System.InvalidOperationException: Cannot remove yourself from the session
   at Api.IOU.Services.SessionService.RemoveUserFromSessionAsync(Int32 sessionId, Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 174
   at Api.IOU.Controllers.SessionController.RemoveUserFromSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 76
2025-09-03 03:58:16 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-09-03 03:58:16 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.6241ms
2025-09-03 03:58:16 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:16 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/7""" - 400 null "text/plain; charset=utf-8" 14.524ms
2025-09-03 03:58:22 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/remove/1""" - null null
2025-09-03 03:58:22 [Information] CORS policy execution successful.
2025-09-03 03:58:22 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/remove/1""" - 204 null null 2.8251ms
2025-09-03 03:58:22 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/1""" - null null
2025-09-03 03:58:22 [Information] CORS policy execution successful.
2025-09-03 03:58:22 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:22 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:22 [Information] Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:22 [Error] You're not the session owner
System.UnauthorizedAccessException: Only session owner can remove users
   at Api.IOU.Services.SessionService.RemoveUserFromSessionAsync(Int32 sessionId, Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 185
   at Api.IOU.Controllers.SessionController.RemoveUserFromSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 76
2025-09-03 03:58:22 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-09-03 03:58:22 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 22.0106ms
2025-09-03 03:58:22 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:22 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/1""" - 400 null "text/plain; charset=utf-8" 30.2789ms
2025-09-03 03:58:37 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - null null
2025-09-03 03:58:37 [Information] CORS policy execution successful.
2025-09-03 03:58:37 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - 204 null null 2.8511ms
2025-09-03 03:58:37 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 53
2025-09-03 03:58:37 [Information] CORS policy execution successful.
2025-09-03 03:58:37 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 03:58:37 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 03:58:37 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 03:58:38 [Information] User "test8" logged in successfully at 09/03/2025 00:58:38
2025-09-03 03:58:38 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:58:38 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 159.2256ms
2025-09-03 03:58:38 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 03:58:38 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 168.8733ms
2025-09-03 03:58:38 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:58:38 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:58:38 [Information] CORS policy execution successful.
2025-09-03 03:58:38 [Information] CORS policy execution successful.
2025-09-03 03:58:38 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 8.3174ms
2025-09-03 03:58:38 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 8.998ms
2025-09-03 03:58:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 03:58:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:58:38 [Information] CORS policy execution successful.
2025-09-03 03:58:38 [Information] CORS policy execution successful.
2025-09-03 03:58:38 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:58:38 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:38 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 03:58:38 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:38 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 03:58:38 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:38 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 03:58:38 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:38 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:58:38 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 8.3851ms
2025-09-03 03:58:38 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 03:58:38 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 24.2402ms
2025-09-03 03:58:38 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 12.0264ms
2025-09-03 03:58:38 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 28.6299ms
2025-09-03 03:58:43 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - null null
2025-09-03 03:58:43 [Information] CORS policy execution successful.
2025-09-03 03:58:43 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - 204 null null 3.1727ms
2025-09-03 03:58:43 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 15
2025-09-03 03:58:43 [Information] CORS policy execution successful.
2025-09-03 03:58:43 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:58:43 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(Api.IOU.DTOs.CreateSessionDTO)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:43 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Sessions` (`CreatedAt`, `CreatedById`, `Name`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Sessions`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 03:58:43 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 03:58:43 [Information] Session "test" created by user 8
2025-09-03 03:58:43 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:43 [Information] Session Created with ID: 4
2025-09-03 03:58:43 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.SessionDTO"'.
2025-09-03 03:58:43 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 21.3071ms
2025-09-03 03:58:43 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 03:58:43 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 200 null "application/json; charset=utf-8" 29.2275ms
2025-09-03 03:58:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:58:43 [Information] CORS policy execution successful.
2025-09-03 03:58:43 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:43 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:43 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:43 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:58:43 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:43 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 7.7164ms
2025-09-03 03:58:43 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 15.4715ms
2025-09-03 03:58:45 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/7""" - null null
2025-09-03 03:58:45 [Information] CORS policy execution successful.
2025-09-03 03:58:45 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 204 null null 2.8103ms
2025-09-03 03:58:45 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - "application/json" 2
2025-09-03 03:58:45 [Information] CORS policy execution successful.
2025-09-03 03:58:45 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 03:58:45 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:45 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 03:58:45 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 03:58:45 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:58:45 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 18.2552ms
2025-09-03 03:58:45 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 03:58:45 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 200 null "application/json; charset=utf-8" 26.319ms
2025-09-03 03:58:45 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:58:45 [Information] CORS policy execution successful.
2025-09-03 03:58:45 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 3.4567ms
2025-09-03 03:58:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:58:45 [Information] CORS policy execution successful.
2025-09-03 03:58:45 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:45 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:45 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:58:45 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:45 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.3907ms
2025-09-03 03:58:45 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 16.7543ms
2025-09-03 03:58:47 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 03:58:47 [Information] CORS policy execution successful.
2025-09-03 03:58:47 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 3.353ms
2025-09-03 03:58:47 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 03:58:47 [Information] CORS policy execution successful.
2025-09-03 03:58:47 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:47 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:47 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:47 [Information] Executed DbCommand ("1"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 03:58:47 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:58:47 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 13.712ms
2025-09-03 03:58:47 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:47 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 21.7246ms
2025-09-03 03:58:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:58:47 [Information] CORS policy execution successful.
2025-09-03 03:58:47 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:47 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:47 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:47 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:58:47 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:47 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 9.2654ms
2025-09-03 03:58:47 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 17.4348ms
2025-09-03 03:58:53 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 03:58:53 [Information] CORS policy execution successful.
2025-09-03 03:58:53 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 2.6737ms
2025-09-03 03:58:53 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 03:58:53 [Information] CORS policy execution successful.
2025-09-03 03:58:53 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:53 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:53 [Information] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:53 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 03:58:53 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:58:53 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 9.3338ms
2025-09-03 03:58:53 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:53 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 17.1364ms
2025-09-03 03:58:53 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 03:58:53 [Information] CORS policy execution successful.
2025-09-03 03:58:53 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 4.2082ms
2025-09-03 03:58:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:58:53 [Information] CORS policy execution successful.
2025-09-03 03:58:53 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:53 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:53 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:53 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:58:53 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:53 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 9.1987ms
2025-09-03 03:58:53 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 16.4525ms
2025-09-03 03:58:55 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 03:58:55 [Information] CORS policy execution successful.
2025-09-03 03:58:55 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:55 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:55 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:55 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 03:58:55 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:58:55 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 9.0155ms
2025-09-03 03:58:55 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:55 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 16.3173ms
2025-09-03 03:58:55 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:58:55 [Information] CORS policy execution successful.
2025-09-03 03:58:55 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:55 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:55 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:55 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:58:55 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:55 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.7136ms
2025-09-03 03:58:55 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:55 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 21.566ms
2025-09-03 03:58:55 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 03:58:55 [Information] CORS policy execution successful.
2025-09-03 03:58:55 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:55 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:55 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:55 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 03:58:55 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:58:55 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.8862ms
2025-09-03 03:58:55 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:55 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 16.3994ms
2025-09-03 03:58:55 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:58:55 [Information] CORS policy execution successful.
2025-09-03 03:58:55 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:55 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:55 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:55 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:58:55 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:55 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 9.6911ms
2025-09-03 03:58:55 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:55 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 18.194ms
2025-09-03 03:58:55 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 03:58:55 [Information] CORS policy execution successful.
2025-09-03 03:58:55 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:55 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:55 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:55 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 03:58:55 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:58:55 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.1707ms
2025-09-03 03:58:55 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:55 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 17.6179ms
2025-09-03 03:58:55 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:58:55 [Information] CORS policy execution successful.
2025-09-03 03:58:55 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:55 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:55 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:55 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:58:55 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:55 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 11.2785ms
2025-09-03 03:58:55 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:55 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 18.7407ms
2025-09-03 03:58:55 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 03:58:55 [Information] CORS policy execution successful.
2025-09-03 03:58:55 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:56 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:56 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 03:58:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 03:58:56 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 03:58:56 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.0104ms
2025-09-03 03:58:56 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 03:58:56 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 17.5416ms
2025-09-03 03:58:56 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 03:58:56 [Information] CORS policy execution successful.
2025-09-03 03:58:56 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:56 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 03:58:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 03:58:56 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 03:58:56 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 03:58:56 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.1518ms
2025-09-03 03:58:56 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 03:58:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 19.3583ms
2025-09-03 04:01:46 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:01:46 [Information] CORS policy execution successful.
2025-09-03 04:01:46 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 2.7395ms
2025-09-03 04:01:46 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:01:46 [Information] CORS policy execution successful.
2025-09-03 04:01:46 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:01:46 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:01:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:01:46 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:01:46 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:01:46 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.7074ms
2025-09-03 04:01:46 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:01:46 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 18.9085ms
2025-09-03 04:01:46 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:01:46 [Information] CORS policy execution successful.
2025-09-03 04:01:46 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 3.0607ms
2025-09-03 04:01:46 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:01:46 [Information] CORS policy execution successful.
2025-09-03 04:01:46 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:01:46 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:01:46 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:01:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:01:46 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:01:46 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.8005ms
2025-09-03 04:01:46 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:01:46 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 16.7788ms
2025-09-03 04:01:47 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/7""" - null null
2025-09-03 04:01:47 [Information] CORS policy execution successful.
2025-09-03 04:01:47 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 204 null null 3.2661ms
2025-09-03 04:01:47 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - "application/json" 2
2025-09-03 04:01:47 [Information] CORS policy execution successful.
2025-09-03 04:01:47 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:01:47 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:01:47 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:01:47 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:01:47 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 8.1948ms
2025-09-03 04:01:47 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:01:47 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'SessionUser' cannot be tracked because another instance with the same key value for {'SessionId', 'UserId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at Api.IOU.Repositories.SessionUserRepository.AddUserToSessionAsync(SessionUser sessionUser) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Repositories\SessionUserRepository.cs:line 19
   at Api.IOU.Services.SessionService.AddUserToSessionAsync(Int32 sessionId, Int32 ownerId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 58
   at Api.IOU.Controllers.SessionController.AddUserToSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:01:47 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 500 null "text/plain; charset=utf-8" 23.7299ms
2025-09-03 04:01:49 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:01:49 [Information] CORS policy execution successful.
2025-09-03 04:01:49 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:01:49 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:01:49 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:01:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:01:49 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:01:49 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.9211ms
2025-09-03 04:01:49 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:01:49 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 15.04ms
2025-09-03 04:01:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:01:49 [Information] CORS policy execution successful.
2025-09-03 04:01:49 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:01:49 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:01:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:01:49 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:01:49 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:01:49 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.1001ms
2025-09-03 04:01:49 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:01:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 17.4233ms
2025-09-03 04:01:49 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:01:49 [Information] CORS policy execution successful.
2025-09-03 04:01:49 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:01:49 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:01:49 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:01:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:01:49 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:01:49 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.1106ms
2025-09-03 04:01:49 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:01:49 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 15.9748ms
2025-09-03 04:01:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:01:49 [Information] CORS policy execution successful.
2025-09-03 04:01:49 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:01:49 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:01:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:01:49 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:01:49 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:01:49 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.0851ms
2025-09-03 04:01:49 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:01:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 15.2371ms
2025-09-03 04:01:52 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/8""" - null null
2025-09-03 04:01:52 [Information] CORS policy execution successful.
2025-09-03 04:01:52 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/8""" - 204 null null 3.058ms
2025-09-03 04:01:52 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/8""" - null null
2025-09-03 04:01:52 [Information] CORS policy execution successful.
2025-09-03 04:01:52 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:01:52 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:01:52 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:01:52 [Error] Cannot remove yourself from session
System.InvalidOperationException: Cannot remove yourself from the session
   at Api.IOU.Services.SessionService.RemoveUserFromSessionAsync(Int32 sessionId, Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 174
   at Api.IOU.Controllers.SessionController.RemoveUserFromSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 76
2025-09-03 04:01:52 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-09-03 04:01:52 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.4819ms
2025-09-03 04:01:52 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:01:52 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/8""" - 400 null "text/plain; charset=utf-8" 15.4518ms
2025-09-03 04:01:54 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:01:54 [Information] CORS policy execution successful.
2025-09-03 04:01:54 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 3.0625ms
2025-09-03 04:01:54 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:01:54 [Information] CORS policy execution successful.
2025-09-03 04:01:54 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:01:54 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:01:54 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:01:54 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:01:54 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:01:54 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.4411ms
2025-09-03 04:01:54 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:01:54 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 16.0393ms
2025-09-03 04:01:54 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:01:54 [Information] CORS policy execution successful.
2025-09-03 04:01:54 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 3.077ms
2025-09-03 04:01:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:01:54 [Information] CORS policy execution successful.
2025-09-03 04:01:54 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:01:54 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:01:54 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:01:54 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:01:54 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:01:54 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 7.8758ms
2025-09-03 04:01:54 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:01:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 15.6409ms
2025-09-03 04:02:03 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:02:03 [Information] CORS policy execution successful.
2025-09-03 04:02:03 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 4.5314ms
2025-09-03 04:02:03 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:02:03 [Information] CORS policy execution successful.
2025-09-03 04:02:03 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:02:03 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:02:03 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:02:03 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:02:03 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:02:03 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.292ms
2025-09-03 04:02:03 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:02:03 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 17.5643ms
2025-09-03 04:02:03 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:02:03 [Information] CORS policy execution successful.
2025-09-03 04:02:03 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 3.0076ms
2025-09-03 04:02:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:02:03 [Information] CORS policy execution successful.
2025-09-03 04:02:03 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:02:03 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:02:03 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:02:03 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:02:03 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:02:03 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.4271ms
2025-09-03 04:02:03 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:02:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 16.4723ms
2025-09-03 04:02:04 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:02:04 [Information] CORS policy execution successful.
2025-09-03 04:02:04 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:02:04 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:02:04 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:02:04 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:02:04 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:02:04 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.2913ms
2025-09-03 04:02:04 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:02:04 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 16.3257ms
2025-09-03 04:02:04 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:02:04 [Information] CORS policy execution successful.
2025-09-03 04:02:04 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:02:04 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:02:04 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:02:04 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:02:04 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:02:04 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.9445ms
2025-09-03 04:02:04 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:02:04 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 17.2906ms
2025-09-03 04:02:04 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:02:04 [Information] CORS policy execution successful.
2025-09-03 04:02:04 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:02:04 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:02:04 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:02:04 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:02:04 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:02:04 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.8583ms
2025-09-03 04:02:04 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:02:04 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 16.8428ms
2025-09-03 04:02:04 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:02:04 [Information] CORS policy execution successful.
2025-09-03 04:02:04 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:02:04 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:02:04 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:02:04 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:02:04 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:02:04 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 7.8914ms
2025-09-03 04:02:04 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:02:04 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 18.7476ms
2025-09-03 04:02:04 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:02:04 [Information] CORS policy execution successful.
2025-09-03 04:02:04 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:02:04 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:02:04 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:02:04 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:02:04 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:02:04 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.9616ms
2025-09-03 04:02:04 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:02:04 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 16.7243ms
2025-09-03 04:02:04 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:02:04 [Information] CORS policy execution successful.
2025-09-03 04:02:04 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:02:04 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:02:04 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:02:04 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:02:04 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:02:04 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 10.2366ms
2025-09-03 04:02:04 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:02:04 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 18.3466ms
2025-09-03 04:02:05 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:02:05 [Information] CORS policy execution successful.
2025-09-03 04:02:05 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:02:05 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:02:05 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:02:05 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:02:05 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:02:05 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.0272ms
2025-09-03 04:02:05 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:02:05 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 16.1022ms
2025-09-03 04:02:05 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:02:05 [Information] CORS policy execution successful.
2025-09-03 04:02:05 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:02:05 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:02:05 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:02:05 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:02:05 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:02:05 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.8563ms
2025-09-03 04:02:05 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:02:05 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 17.9106ms
2025-09-03 04:04:20 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:04:20 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:04:20 [Information] CORS policy execution successful.
2025-09-03 04:04:20 [Information] CORS policy execution successful.
2025-09-03 04:04:20 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 9.1904ms
2025-09-03 04:04:20 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 8.5518ms
2025-09-03 04:04:20 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:04:20 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:04:20 [Information] CORS policy execution successful.
2025-09-03 04:04:20 [Information] CORS policy execution successful.
2025-09-03 04:04:20 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:20 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:20 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:04:20 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:20 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:04:20 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:04:20 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:20 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 8.7605ms
2025-09-03 04:04:20 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:20 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 25.7345ms
2025-09-03 04:04:20 [Information] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:04:20 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:04:20 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:20 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 31.9708ms
2025-09-03 04:04:20 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:20 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 47.7739ms
2025-09-03 04:04:22 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:22 [Information] CORS policy execution successful.
2025-09-03 04:04:22 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 3.2764ms
2025-09-03 04:04:22 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:22 [Information] CORS policy execution successful.
2025-09-03 04:04:22 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:22 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:22 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:22 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:22 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:22 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 9.3535ms
2025-09-03 04:04:22 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:22 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 17.5378ms
2025-09-03 04:04:23 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/8""" - null null
2025-09-03 04:04:23 [Information] CORS policy execution successful.
2025-09-03 04:04:23 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/8""" - 204 null null 3.0059ms
2025-09-03 04:04:23 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/8""" - null null
2025-09-03 04:04:23 [Information] CORS policy execution successful.
2025-09-03 04:04:23 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:23 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:23 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:23 [Error] Cannot remove yourself from session
System.InvalidOperationException: Cannot remove yourself from the session
   at Api.IOU.Services.SessionService.RemoveUserFromSessionAsync(Int32 sessionId, Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 174
   at Api.IOU.Controllers.SessionController.RemoveUserFromSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 76
2025-09-03 04:04:23 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-09-03 04:04:23 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 6.7253ms
2025-09-03 04:04:23 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:23 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/8""" - 400 null "text/plain; charset=utf-8" 14.542ms
2025-09-03 04:04:27 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/7""" - null null
2025-09-03 04:04:27 [Information] CORS policy execution successful.
2025-09-03 04:04:27 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 204 null null 2.8379ms
2025-09-03 04:04:27 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - "application/json" 2
2025-09-03 04:04:27 [Information] CORS policy execution successful.
2025-09-03 04:04:27 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:04:27 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:27 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:27 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:04:27 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 7.6762ms
2025-09-03 04:04:27 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:04:27 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'SessionUser' cannot be tracked because another instance with the same key value for {'SessionId', 'UserId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at Api.IOU.Repositories.SessionUserRepository.AddUserToSessionAsync(SessionUser sessionUser) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Repositories\SessionUserRepository.cs:line 19
   at Api.IOU.Services.SessionService.AddUserToSessionAsync(Int32 sessionId, Int32 ownerId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 58
   at Api.IOU.Controllers.SessionController.AddUserToSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:04:27 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 500 null "text/plain; charset=utf-8" 23.4481ms
2025-09-03 04:04:29 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/9""" - null null
2025-09-03 04:04:29 [Information] CORS policy execution successful.
2025-09-03 04:04:29 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/9""" - 204 null null 2.8296ms
2025-09-03 04:04:29 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/9""" - "application/json" 2
2025-09-03 04:04:29 [Information] CORS policy execution successful.
2025-09-03 04:04:29 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:04:29 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:29 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:29 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:04:29 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:04:29 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 04:04:29 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:29 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 17.905ms
2025-09-03 04:04:29 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:04:29 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/9""" - 200 null "application/json; charset=utf-8" 25.8635ms
2025-09-03 04:04:29 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:04:29 [Information] CORS policy execution successful.
2025-09-03 04:04:29 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 2.8578ms
2025-09-03 04:04:29 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:04:29 [Information] CORS policy execution successful.
2025-09-03 04:04:29 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:29 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:29 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:04:29 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:04:29 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:29 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.7188ms
2025-09-03 04:04:29 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:29 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 16.0063ms
2025-09-03 04:04:30 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:30 [Information] CORS policy execution successful.
2025-09-03 04:04:30 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 3.0506ms
2025-09-03 04:04:30 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:30 [Information] CORS policy execution successful.
2025-09-03 04:04:30 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:30 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:30 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:30 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:30 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:30 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.1787ms
2025-09-03 04:04:30 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:30 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 16.4733ms
2025-09-03 04:04:31 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:04:31 [Information] CORS policy execution successful.
2025-09-03 04:04:31 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 204 null null 2.9247ms
2025-09-03 04:04:31 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:04:31 [Information] CORS policy execution successful.
2025-09-03 04:04:31 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:31 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:31 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:31 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:31 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:31 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.4115ms
2025-09-03 04:04:31 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:31 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 200 null "application/json; charset=utf-8" 15.5954ms
2025-09-03 04:04:32 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/9""" - "application/json" 2
2025-09-03 04:04:32 [Information] CORS policy execution successful.
2025-09-03 04:04:32 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:04:32 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:32 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:32 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:04:32 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 7.1234ms
2025-09-03 04:04:32 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:04:32 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'SessionUser' cannot be tracked because another instance with the same key value for {'SessionId', 'UserId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at Api.IOU.Repositories.SessionUserRepository.AddUserToSessionAsync(SessionUser sessionUser) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Repositories\SessionUserRepository.cs:line 19
   at Api.IOU.Services.SessionService.AddUserToSessionAsync(Int32 sessionId, Int32 ownerId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 58
   at Api.IOU.Controllers.SessionController.AddUserToSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:04:32 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/9""" - 500 null "text/plain; charset=utf-8" 22.6393ms
2025-09-03 04:04:34 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/9""" - null null
2025-09-03 04:04:34 [Information] CORS policy execution successful.
2025-09-03 04:04:34 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/9""" - 204 null null 2.8336ms
2025-09-03 04:04:34 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/9""" - "application/json" 2
2025-09-03 04:04:34 [Information] CORS policy execution successful.
2025-09-03 04:04:34 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:04:34 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:34 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:34 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:04:34 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 6.8442ms
2025-09-03 04:04:34 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:04:34 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'SessionUser' cannot be tracked because another instance with the same key value for {'SessionId', 'UserId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at Api.IOU.Repositories.SessionUserRepository.AddUserToSessionAsync(SessionUser sessionUser) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Repositories\SessionUserRepository.cs:line 19
   at Api.IOU.Services.SessionService.AddUserToSessionAsync(Int32 sessionId, Int32 ownerId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 58
   at Api.IOU.Controllers.SessionController.AddUserToSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:04:34 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/9""" - 500 null "text/plain; charset=utf-8" 22.0905ms
2025-09-03 04:04:36 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:04:36 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:04:36 [Information] CORS policy execution successful.
2025-09-03 04:04:36 [Information] CORS policy execution successful.
2025-09-03 04:04:36 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 11.4611ms
2025-09-03 04:04:36 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 10.7397ms
2025-09-03 04:04:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:04:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:04:36 [Information] CORS policy execution successful.
2025-09-03 04:04:36 [Information] CORS policy execution successful.
2025-09-03 04:04:36 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:36 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:36 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:04:36 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:36 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:04:36 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:04:36 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:04:36 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:36 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:04:36 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 9.2727ms
2025-09-03 04:04:36 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:36 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:36 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 9.9642ms
2025-09-03 04:04:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 25.7582ms
2025-09-03 04:04:36 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 37.0461ms
2025-09-03 04:04:36 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:04:36 [Information] CORS policy execution successful.
2025-09-03 04:04:36 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 204 null null 2.7216ms
2025-09-03 04:04:36 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:04:36 [Information] CORS policy execution successful.
2025-09-03 04:04:36 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:36 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:36 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:36 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:36 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:36 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.864ms
2025-09-03 04:04:36 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:36 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 200 null "application/json; charset=utf-8" 15.5358ms
2025-09-03 04:04:37 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:37 [Information] CORS policy execution successful.
2025-09-03 04:04:37 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 2.8783ms
2025-09-03 04:04:37 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:37 [Information] CORS policy execution successful.
2025-09-03 04:04:37 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:37 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:37 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:37 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:37 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:37 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.3216ms
2025-09-03 04:04:37 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:37 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 15.7534ms
2025-09-03 04:04:39 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/7""" - null null
2025-09-03 04:04:39 [Information] CORS policy execution successful.
2025-09-03 04:04:39 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 204 null null 2.6534ms
2025-09-03 04:04:39 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - "application/json" 2
2025-09-03 04:04:39 [Information] CORS policy execution successful.
2025-09-03 04:04:39 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:04:39 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:39 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:39 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:04:39 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 7.0607ms
2025-09-03 04:04:39 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:04:39 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'SessionUser' cannot be tracked because another instance with the same key value for {'SessionId', 'UserId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at Api.IOU.Repositories.SessionUserRepository.AddUserToSessionAsync(SessionUser sessionUser) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Repositories\SessionUserRepository.cs:line 19
   at Api.IOU.Services.SessionService.AddUserToSessionAsync(Int32 sessionId, Int32 ownerId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 58
   at Api.IOU.Controllers.SessionController.AddUserToSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:04:39 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 500 null "text/plain; charset=utf-8" 22.5623ms
2025-09-03 04:04:41 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:04:41 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:04:41 [Information] CORS policy execution successful.
2025-09-03 04:04:41 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 9.0285ms
2025-09-03 04:04:41 [Information] CORS policy execution successful.
2025-09-03 04:04:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:04:41 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 14.9632ms
2025-09-03 04:04:41 [Information] CORS policy execution successful.
2025-09-03 04:04:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:04:41 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:41 [Information] CORS policy execution successful.
2025-09-03 04:04:41 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:04:41 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:41 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:41 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:04:41 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:04:41 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:04:41 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:41 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:04:41 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 10.0958ms
2025-09-03 04:04:41 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:41 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:41 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 11.0185ms
2025-09-03 04:04:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 29.0184ms
2025-09-03 04:04:41 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 27.9114ms
2025-09-03 04:04:42 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:42 [Information] CORS policy execution successful.
2025-09-03 04:04:42 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:42 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:42 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:42 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:42 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:42 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.3572ms
2025-09-03 04:04:42 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:42 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 15.6612ms
2025-09-03 04:04:42 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:04:42 [Information] CORS policy execution successful.
2025-09-03 04:04:42 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 204 null null 2.8854ms
2025-09-03 04:04:42 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:04:42 [Information] CORS policy execution successful.
2025-09-03 04:04:42 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:42 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:42 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:42 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:43 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:43 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.3706ms
2025-09-03 04:04:43 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:43 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 200 null "application/json; charset=utf-8" 16.3868ms
2025-09-03 04:04:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:04:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:04:43 [Information] CORS policy execution successful.
2025-09-03 04:04:43 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:43 [Information] CORS policy execution successful.
2025-09-03 04:04:43 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:04:43 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:43 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:43 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:04:43 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:04:43 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:04:43 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:43 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:04:43 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 10.1525ms
2025-09-03 04:04:43 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:43 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 12.797ms
2025-09-03 04:04:43 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:43 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 33.8839ms
2025-09-03 04:04:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 30.6964ms
2025-09-03 04:04:44 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:44 [Information] CORS policy execution successful.
2025-09-03 04:04:44 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 2.6023ms
2025-09-03 04:04:44 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:44 [Information] CORS policy execution successful.
2025-09-03 04:04:44 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:44 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:44 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:44 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.5953ms
2025-09-03 04:04:44 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:44 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 15.6919ms
2025-09-03 04:04:44 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:04:44 [Information] CORS policy execution successful.
2025-09-03 04:04:44 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:44 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:44 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:44 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.7287ms
2025-09-03 04:04:44 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:44 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 200 null "application/json; charset=utf-8" 15.6346ms
2025-09-03 04:04:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:04:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:04:45 [Information] CORS policy execution successful.
2025-09-03 04:04:45 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:45 [Information] CORS policy execution successful.
2025-09-03 04:04:45 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:45 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:45 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:04:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:04:45 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:04:45 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:04:45 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:04:45 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:45 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:45 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 11.2915ms
2025-09-03 04:04:45 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 10.9978ms
2025-09-03 04:04:45 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:45 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 29.728ms
2025-09-03 04:04:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 30.8755ms
2025-09-03 04:04:46 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:46 [Information] CORS policy execution successful.
2025-09-03 04:04:46 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:46 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:46 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:46 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:46 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.2389ms
2025-09-03 04:04:46 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:46 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 15.7045ms
2025-09-03 04:04:46 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:04:46 [Information] CORS policy execution successful.
2025-09-03 04:04:46 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:46 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:46 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:46 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:46 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.8311ms
2025-09-03 04:04:46 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:46 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 200 null "application/json; charset=utf-8" 15.758ms
2025-09-03 04:04:49 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:04:49 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:04:49 [Information] CORS policy execution successful.
2025-09-03 04:04:49 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 5.3844ms
2025-09-03 04:04:49 [Information] CORS policy execution successful.
2025-09-03 04:04:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:04:49 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 11.0681ms
2025-09-03 04:04:49 [Information] CORS policy execution successful.
2025-09-03 04:04:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:04:49 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:49 [Information] CORS policy execution successful.
2025-09-03 04:04:49 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:49 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:49 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:04:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:04:49 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:04:49 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:04:49 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:04:49 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:49 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:04:49 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 11.3836ms
2025-09-03 04:04:49 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 10.234ms
2025-09-03 04:04:49 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:04:49 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:04:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 27.6202ms
2025-09-03 04:04:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 24.0386ms
2025-09-03 04:04:50 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:50 [Information] CORS policy execution successful.
2025-09-03 04:04:50 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 2.8646ms
2025-09-03 04:04:50 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:04:50 [Information] CORS policy execution successful.
2025-09-03 04:04:50 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:50 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:50 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:50 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:50 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:50 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.1911ms
2025-09-03 04:04:50 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:50 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 16.3017ms
2025-09-03 04:04:50 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:04:50 [Information] CORS policy execution successful.
2025-09-03 04:04:50 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 204 null null 2.7981ms
2025-09-03 04:04:50 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:04:50 [Information] CORS policy execution successful.
2025-09-03 04:04:50 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:50 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:04:50 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:04:50 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:04:50 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:04:50 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 8.9479ms
2025-09-03 04:04:50 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:04:50 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 200 null "application/json; charset=utf-8" 19.2445ms
2025-09-03 04:09:28 [Information] Application is shutting down...
2025-09-03 04:09:40 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-03 04:09:40 [Information] Now listening on: "http://localhost:5062"
2025-09-03 04:09:40 [Information] Application started. Press Ctrl+C to shut down.
2025-09-03 04:09:40 [Information] Hosting environment: "Development"
2025-09-03 04:09:40 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-03 04:09:40 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:09:40 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:09:40 [Warning] Failed to determine the https port for redirect.
2025-09-03 04:09:40 [Information] CORS policy execution successful.
2025-09-03 04:09:40 [Information] CORS policy execution successful.
2025-09-03 04:09:40 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 76.2043ms
2025-09-03 04:09:40 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 76.2062ms
2025-09-03 04:09:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:09:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:09:40 [Information] CORS policy execution successful.
2025-09-03 04:09:40 [Information] CORS policy execution successful.
2025-09-03 04:09:40 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:40 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:40 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:40 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:09:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:09:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:09:41 [Information] CORS policy execution successful.
2025-09-03 04:09:41 [Information] CORS policy execution successful.
2025-09-03 04:09:41 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:41 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:41 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:41 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:09:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:09:41 [Information] CORS policy execution successful.
2025-09-03 04:09:41 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:41 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:09:41 [Information] CORS policy execution successful.
2025-09-03 04:09:41 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:41 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:09:42 [Information] Executed DbCommand ("60"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:09:42 [Information] Executed DbCommand ("54"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:09:42 [Information] Executed DbCommand ("54"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:09:42 [Information] Executed DbCommand ("54"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:09:42 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:09:42 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:09:42 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:42 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:42 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 1211.2439ms
2025-09-03 04:09:42 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 1803.4692ms
2025-09-03 04:09:42 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:42 [Information] Executed DbCommand ("188"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:09:42 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:09:42 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:42 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:09:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 499 null "application/json; charset=utf-8" 1911.1263ms
2025-09-03 04:09:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 499 null "application/json; charset=utf-8" 1249.9109ms
2025-09-03 04:09:42 [Information] Executed DbCommand ("27"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:09:42 [Information] Executed DbCommand ("267"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:09:42 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:42 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:09:42 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 405.8408ms
2025-09-03 04:09:42 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 426.964ms
2025-09-03 04:09:42 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:42 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:42 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:42 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 1283.047ms
2025-09-03 04:09:42 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 724.9922ms
2025-09-03 04:09:42 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 1875.0707ms
2025-09-03 04:09:42 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:42 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:42 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 499 null "application/json; charset=utf-8" 1310.2878ms
2025-09-03 04:09:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 751.9589ms
2025-09-03 04:09:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 499 null "application/json; charset=utf-8" 1977.587ms
2025-09-03 04:09:44 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:09:44 [Information] CORS policy execution successful.
2025-09-03 04:09:44 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 3.2039ms
2025-09-03 04:09:44 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:09:44 [Information] CORS policy execution successful.
2025-09-03 04:09:44 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:09:44 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:44 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-03 04:09:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:09:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:09:44 [Information] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
DELETE FROM `Sessionusers`
WHERE `SessionId` = @p0 AND `UserId` = @p1;
SELECT ROW_COUNT();"
2025-09-03 04:09:44 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:09:44 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 176.9732ms
2025-09-03 04:09:44 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:09:44 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 194.8325ms
2025-09-03 04:09:44 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:09:44 [Information] CORS policy execution successful.
2025-09-03 04:09:44 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 204 null null 4.1877ms
2025-09-03 04:09:44 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:09:44 [Information] CORS policy execution successful.
2025-09-03 04:09:44 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:09:44 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:09:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:09:44 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
DELETE FROM `Sessionusers`
WHERE `SessionId` = @p0 AND `UserId` = @p1;
SELECT ROW_COUNT();"
2025-09-03 04:09:44 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:09:44 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 20.0727ms
2025-09-03 04:09:44 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:09:44 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 200 null "application/json; charset=utf-8" 34.6053ms
2025-09-03 04:09:45 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:09:45 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:09:45 [Information] CORS policy execution successful.
2025-09-03 04:09:45 [Information] CORS policy execution successful.
2025-09-03 04:09:45 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 9.1767ms
2025-09-03 04:09:45 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 11.6271ms
2025-09-03 04:09:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:09:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:09:45 [Information] CORS policy execution successful.
2025-09-03 04:09:45 [Information] CORS policy execution successful.
2025-09-03 04:09:45 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:45 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:45 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:45 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:09:45 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:09:45 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:09:45 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:09:45 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:09:45 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:45 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:45 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 14.4103ms
2025-09-03 04:09:45 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 14.32ms
2025-09-03 04:09:45 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:45 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 33.129ms
2025-09-03 04:09:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 31.6354ms
2025-09-03 04:09:54 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:09:54 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:09:54 [Information] CORS policy execution successful.
2025-09-03 04:09:54 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 10.7835ms
2025-09-03 04:09:54 [Information] CORS policy execution successful.
2025-09-03 04:09:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:09:54 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 17.18ms
2025-09-03 04:09:54 [Information] CORS policy execution successful.
2025-09-03 04:09:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:09:54 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:54 [Information] CORS policy execution successful.
2025-09-03 04:09:54 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:54 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:54 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:09:54 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:09:54 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:09:54 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:09:54 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:09:54 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:54 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:54 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 17.8017ms
2025-09-03 04:09:54 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 15.0172ms
2025-09-03 04:09:54 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:54 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 39.2421ms
2025-09-03 04:09:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 32.0091ms
2025-09-03 04:09:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:09:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:09:54 [Information] CORS policy execution successful.
2025-09-03 04:09:54 [Information] CORS policy execution successful.
2025-09-03 04:09:54 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:54 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:54 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:54 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:09:54 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:09:54 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:09:54 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:09:54 [Information] Friendlist for user with ID 8 was found and returned
2025-09-03 04:09:54 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:54 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:54 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 12.4964ms
2025-09-03 04:09:54 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:54 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 13.3524ms
2025-09-03 04:09:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 39.426ms
2025-09-03 04:09:54 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:09:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 44.5819ms
2025-09-03 04:09:56 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/7""" - null null
2025-09-03 04:09:56 [Information] CORS policy execution successful.
2025-09-03 04:09:56 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 204 null null 3.0485ms
2025-09-03 04:09:56 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - "application/json" 2
2025-09-03 04:09:56 [Information] CORS policy execution successful.
2025-09-03 04:09:56 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:09:56 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:56 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:09:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:09:56 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:09:56 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 04:09:56 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:09:56 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 51.9625ms
2025-09-03 04:09:56 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:09:56 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 200 null "application/json; charset=utf-8" 64.5371ms
2025-09-03 04:09:56 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:09:56 [Information] CORS policy execution successful.
2025-09-03 04:09:56 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:56 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:09:56 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:09:56 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:56 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 9.9015ms
2025-09-03 04:09:56 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:56 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 19.7389ms
2025-09-03 04:09:57 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:09:57 [Information] CORS policy execution successful.
2025-09-03 04:09:57 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 204 null null 3ms
2025-09-03 04:09:57 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:09:57 [Information] CORS policy execution successful.
2025-09-03 04:09:57 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:09:57 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:57 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:09:57 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:09:57 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
DELETE FROM `Sessionusers`
WHERE `SessionId` = @p0 AND `UserId` = @p1;
SELECT ROW_COUNT();"
2025-09-03 04:09:57 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:09:57 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 18.5425ms
2025-09-03 04:09:57 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:09:57 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 26.7621ms
2025-09-03 04:09:58 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - "application/json" 2
2025-09-03 04:09:58 [Information] CORS policy execution successful.
2025-09-03 04:09:58 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:09:58 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:58 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:09:58 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:09:58 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:09:58 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 04:09:58 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:09:58 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 22.2996ms
2025-09-03 04:09:58 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:09:58 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 200 null "application/json; charset=utf-8" 31.2136ms
2025-09-03 04:09:58 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:09:58 [Information] CORS policy execution successful.
2025-09-03 04:09:58 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:58 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:58 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:09:58 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:09:58 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:09:58 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 9.9655ms
2025-09-03 04:09:58 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:09:58 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 18.4268ms
2025-09-03 04:09:59 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:09:59 [Information] CORS policy execution successful.
2025-09-03 04:09:59 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:09:59 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:09:59 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:09:59 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:09:59 [Information] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
DELETE FROM `Sessionusers`
WHERE `SessionId` = @p0 AND `UserId` = @p1;
SELECT ROW_COUNT();"
2025-09-03 04:09:59 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:09:59 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 28.7782ms
2025-09-03 04:09:59 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:09:59 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 36.6063ms
2025-09-03 04:10:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - "application/json" 2
2025-09-03 04:10:00 [Information] CORS policy execution successful.
2025-09-03 04:10:00 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:10:00 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:10:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:10:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:10:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:10:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 04:10:00 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:10:00 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 27.7582ms
2025-09-03 04:10:00 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:10:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/7""" - 200 null "application/json; charset=utf-8" 37.271ms
2025-09-03 04:10:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:10:00 [Information] CORS policy execution successful.
2025-09-03 04:10:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 4.0124ms
2025-09-03 04:10:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:10:00 [Information] CORS policy execution successful.
2025-09-03 04:10:00 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:10:00 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:10:00 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:10:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:10:00 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:10:00 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 13.3443ms
2025-09-03 04:10:00 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:10:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 26.189ms
2025-09-03 04:10:01 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - null null
2025-09-03 04:10:01 [Information] CORS policy execution successful.
2025-09-03 04:10:01 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:10:01 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:10:01 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:10:01 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:10:01 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
DELETE FROM `Sessionusers`
WHERE `SessionId` = @p0 AND `UserId` = @p1;
SELECT ROW_COUNT();"
2025-09-03 04:10:01 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:10:01 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 16.6686ms
2025-09-03 04:10:01 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:10:01 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/7""" - 200 null "application/json; charset=utf-8" 24.6164ms
2025-09-03 04:10:02 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/9""" - null null
2025-09-03 04:10:02 [Information] CORS policy execution successful.
2025-09-03 04:10:02 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/add/9""" - 204 null null 3.7698ms
2025-09-03 04:10:02 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/9""" - "application/json" 2
2025-09-03 04:10:02 [Information] CORS policy execution successful.
2025-09-03 04:10:02 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:10:02 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:10:02 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:10:02 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:10:02 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:10:02 [Information] Executed DbCommand ("16"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 04:10:02 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:10:02 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 31.8654ms
2025-09-03 04:10:02 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:10:02 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/4/add/9""" - 200 null "application/json; charset=utf-8" 40.3888ms
2025-09-03 04:10:02 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:10:02 [Information] CORS policy execution successful.
2025-09-03 04:10:02 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:10:02 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:10:02 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:10:02 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:10:02 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:10:02 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 11.2867ms
2025-09-03 04:10:02 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:10:02 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 21.3032ms
2025-09-03 04:10:02 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:10:02 [Information] CORS policy execution successful.
2025-09-03 04:10:02 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 204 null null 2.8024ms
2025-09-03 04:10:02 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - null null
2025-09-03 04:10:02 [Information] CORS policy execution successful.
2025-09-03 04:10:02 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:10:02 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:10:02 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:10:02 [Information] Executed DbCommand ("0"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`
FROM `Sessionusers` AS `s`
WHERE (`s`.`SessionId` = @__sessionId_0) AND (`s`.`UserId` = @__userId_1)
LIMIT 1"
2025-09-03 04:10:02 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
DELETE FROM `Sessionusers`
WHERE `SessionId` = @p0 AND `UserId` = @p1;
SELECT ROW_COUNT();"
2025-09-03 04:10:02 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:10:02 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 17.1826ms
2025-09-03 04:10:02 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:10:02 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/4/remove/9""" - 200 null "application/json; charset=utf-8" 25.2305ms
2025-09-03 04:45:30 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/t""" - null null
2025-09-03 04:45:30 [Information] CORS policy execution successful.
2025-09-03 04:45:30 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/t""" - 204 null null 4.5266ms
2025-09-03 04:45:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/t""" - null null
2025-09-03 04:45:30 [Information] CORS policy execution successful.
2025-09-03 04:45:30 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:30 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:30 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:30 [Warning] User with username "t" not found.
2025-09-03 04:45:30 [Warning] User with username "t" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: t was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:30 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:30 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 65.7954ms
2025-09-03 04:45:30 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/t""" - 404 null "text/plain; charset=utf-8" 79.0252ms
2025-09-03 04:45:31 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/te""" - null null
2025-09-03 04:45:31 [Information] CORS policy execution successful.
2025-09-03 04:45:31 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/te""" - 204 null null 4.2243ms
2025-09-03 04:45:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/te""" - null null
2025-09-03 04:45:31 [Information] CORS policy execution successful.
2025-09-03 04:45:31 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:31 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:31 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:31 [Warning] User with username "te" not found.
2025-09-03 04:45:31 [Warning] User with username "te" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: te was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:31 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:31 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 8.1902ms
2025-09-03 04:45:31 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/te""" - 404 null "text/plain; charset=utf-8" 15.434ms
2025-09-03 04:45:31 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/tes""" - null null
2025-09-03 04:45:31 [Information] CORS policy execution successful.
2025-09-03 04:45:31 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/tes""" - 204 null null 3.1373ms
2025-09-03 04:45:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/tes""" - null null
2025-09-03 04:45:31 [Information] CORS policy execution successful.
2025-09-03 04:45:31 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:31 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:31 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:31 [Warning] User with username "tes" not found.
2025-09-03 04:45:31 [Warning] User with username "tes" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: tes was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:31 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:31 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 9.057ms
2025-09-03 04:45:31 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/tes""" - 404 null "text/plain; charset=utf-8" 18.5929ms
2025-09-03 04:45:31 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:31 [Information] CORS policy execution successful.
2025-09-03 04:45:31 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - 204 null null 3.2693ms
2025-09-03 04:45:31 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:31 [Information] CORS policy execution successful.
2025-09-03 04:45:31 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:31 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:31 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:31 [Warning] User with username "test" not found.
2025-09-03 04:45:31 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:31 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:31 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 9.0192ms
2025-09-03 04:45:31 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:31 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 17.0794ms
2025-09-03 04:45:32 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test9""" - null null
2025-09-03 04:45:32 [Information] CORS policy execution successful.
2025-09-03 04:45:32 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test9""" - 204 null null 3.6774ms
2025-09-03 04:45:32 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test9""" - null null
2025-09-03 04:45:32 [Information] CORS policy execution successful.
2025-09-03 04:45:32 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:32 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:32 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:32 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:45:32 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.5073ms
2025-09-03 04:45:32 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:32 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test9""" - 200 null "application/json; charset=utf-8" 14.7069ms
2025-09-03 04:45:33 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/9""" - null null
2025-09-03 04:45:33 [Information] CORS policy execution successful.
2025-09-03 04:45:33 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/9""" - 204 null null 5.0232ms
2025-09-03 04:45:33 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/9""" - "application/json" 2
2025-09-03 04:45:33 [Information] CORS policy execution successful.
2025-09-03 04:45:33 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:33 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:45:33 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:45:33 [Warning] Friendship already exists for user with ID 8 and user with ID 9
2025-09-03 04:45:33 [Warning] Failed to send friend request from 8 to 9
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 116
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-03 04:45:33 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:45:33 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 12.2588ms
2025-09-03 04:45:33 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:33 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/9""" - 400 null "application/json; charset=utf-8" 23.7849ms
2025-09-03 04:45:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:36 [Information] CORS policy execution successful.
2025-09-03 04:45:36 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:36 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:36 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:36 [Warning] User with username "test" not found.
2025-09-03 04:45:36 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:36 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:36 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 7.6162ms
2025-09-03 04:45:36 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 15.2745ms
2025-09-03 04:45:36 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test1""" - null null
2025-09-03 04:45:36 [Information] CORS policy execution successful.
2025-09-03 04:45:36 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test1""" - 204 null null 2.7767ms
2025-09-03 04:45:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test1""" - null null
2025-09-03 04:45:36 [Information] CORS policy execution successful.
2025-09-03 04:45:36 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:36 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:36 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:36 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:45:36 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.2323ms
2025-09-03 04:45:36 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test1""" - 200 null "application/json; charset=utf-8" 14.4444ms
2025-09-03 04:45:37 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/1""" - null null
2025-09-03 04:45:37 [Information] CORS policy execution successful.
2025-09-03 04:45:37 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/1""" - 204 null null 2.7572ms
2025-09-03 04:45:37 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/1""" - "application/json" 2
2025-09-03 04:45:37 [Information] CORS policy execution successful.
2025-09-03 04:45:37 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:37 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:45:37 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:45:37 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:45:37 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-03 04:45:37 [Information] Executed DbCommand ("15"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:37 [Information] Notification with ID 0 has been created!
2025-09-03 04:45:37 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:37 [Information] Friend request send by user with iD 8 to User with ID 1
2025-09-03 04:45:37 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:45:37 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 133.4934ms
2025-09-03 04:45:37 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:37 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.friendship.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:45:37 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/1""" - 500 null "text/plain; charset=utf-8" 174.2724ms
2025-09-03 04:45:38 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:38 [Information] CORS policy execution successful.
2025-09-03 04:45:38 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - 204 null null 3.0516ms
2025-09-03 04:45:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:38 [Information] CORS policy execution successful.
2025-09-03 04:45:38 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:38 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:38 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:38 [Warning] User with username "test" not found.
2025-09-03 04:45:38 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:38 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:38 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 8.2423ms
2025-09-03 04:45:38 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 16.0398ms
2025-09-03 04:45:38 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test2""" - null null
2025-09-03 04:45:38 [Information] CORS policy execution successful.
2025-09-03 04:45:38 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test2""" - 204 null null 3.2587ms
2025-09-03 04:45:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test2""" - null null
2025-09-03 04:45:38 [Information] CORS policy execution successful.
2025-09-03 04:45:38 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:38 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:38 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:38 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:45:38 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.3246ms
2025-09-03 04:45:38 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test2""" - 200 null "application/json; charset=utf-8" 14.4645ms
2025-09-03 04:45:39 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/2""" - null null
2025-09-03 04:45:39 [Information] CORS policy execution successful.
2025-09-03 04:45:39 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/2""" - 204 null null 3.4842ms
2025-09-03 04:45:39 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/2""" - "application/json" 2
2025-09-03 04:45:39 [Information] CORS policy execution successful.
2025-09-03 04:45:39 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:39 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:45:39 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:45:39 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:45:39 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-03 04:45:39 [Information] Executed DbCommand ("16"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:39 [Information] Notification with ID 0 has been created!
2025-09-03 04:45:39 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:39 [Information] Friend request send by user with iD 8 to User with ID 2
2025-09-03 04:45:39 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:45:39 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 43.2737ms
2025-09-03 04:45:39 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:39 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.friendship.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:45:39 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/2""" - 500 null "text/plain; charset=utf-8" 74.9579ms
2025-09-03 04:45:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:41 [Information] CORS policy execution successful.
2025-09-03 04:45:41 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:41 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:41 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:41 [Warning] User with username "test" not found.
2025-09-03 04:45:41 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:41 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:41 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 7.2785ms
2025-09-03 04:45:41 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 14.8765ms
2025-09-03 04:45:41 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test3""" - null null
2025-09-03 04:45:41 [Information] CORS policy execution successful.
2025-09-03 04:45:41 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test3""" - 204 null null 3.5759ms
2025-09-03 04:45:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test3""" - null null
2025-09-03 04:45:41 [Information] CORS policy execution successful.
2025-09-03 04:45:41 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:41 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:41 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:41 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:45:41 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.2886ms
2025-09-03 04:45:41 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test3""" - 200 null "application/json; charset=utf-8" 12.1386ms
2025-09-03 04:45:42 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/3""" - null null
2025-09-03 04:45:42 [Information] CORS policy execution successful.
2025-09-03 04:45:42 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/3""" - 204 null null 4.0407ms
2025-09-03 04:45:42 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - "application/json" 2
2025-09-03 04:45:42 [Information] CORS policy execution successful.
2025-09-03 04:45:42 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:42 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:45:42 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:45:42 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:45:42 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-03 04:45:42 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:42 [Information] Notification with ID 0 has been created!
2025-09-03 04:45:42 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:42 [Information] Friend request send by user with iD 8 to User with ID 3
2025-09-03 04:45:42 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:45:42 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 27.7426ms
2025-09-03 04:45:42 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:42 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.friendship.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:45:42 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - 500 null "text/plain; charset=utf-8" 73.8154ms
2025-09-03 04:45:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:43 [Information] CORS policy execution successful.
2025-09-03 04:45:43 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:43 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:43 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:43 [Warning] User with username "test" not found.
2025-09-03 04:45:43 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:43 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:43 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.985ms
2025-09-03 04:45:43 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 14.5767ms
2025-09-03 04:45:43 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test4""" - null null
2025-09-03 04:45:43 [Information] CORS policy execution successful.
2025-09-03 04:45:43 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test4""" - 204 null null 3.4499ms
2025-09-03 04:45:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test4""" - null null
2025-09-03 04:45:43 [Information] CORS policy execution successful.
2025-09-03 04:45:43 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:43 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:43 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:43 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:45:43 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.2102ms
2025-09-03 04:45:43 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test4""" - 200 null "application/json; charset=utf-8" 12.0757ms
2025-09-03 04:45:44 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/4""" - null null
2025-09-03 04:45:44 [Information] CORS policy execution successful.
2025-09-03 04:45:44 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/4""" - 204 null null 4.1135ms
2025-09-03 04:45:44 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - "application/json" 2
2025-09-03 04:45:44 [Information] CORS policy execution successful.
2025-09-03 04:45:44 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:44 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:45:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:45:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:45:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-03 04:45:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:44 [Information] Notification with ID 0 has been created!
2025-09-03 04:45:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:44 [Information] Friend request send by user with iD 8 to User with ID 4
2025-09-03 04:45:44 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:45:44 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 27.5751ms
2025-09-03 04:45:44 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:44 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.friendship.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:45:44 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - 500 null "text/plain; charset=utf-8" 61.2232ms
2025-09-03 04:45:45 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:45 [Information] CORS policy execution successful.
2025-09-03 04:45:45 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - 204 null null 3.0209ms
2025-09-03 04:45:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:45 [Information] CORS policy execution successful.
2025-09-03 04:45:45 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:45 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:45 [Warning] User with username "test" not found.
2025-09-03 04:45:45 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:45 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:45 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.4694ms
2025-09-03 04:45:45 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 14.6116ms
2025-09-03 04:45:45 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test5""" - null null
2025-09-03 04:45:45 [Information] CORS policy execution successful.
2025-09-03 04:45:45 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test5""" - 204 null null 3.3438ms
2025-09-03 04:45:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test5""" - null null
2025-09-03 04:45:45 [Information] CORS policy execution successful.
2025-09-03 04:45:45 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:45 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:45 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:45:45 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.8962ms
2025-09-03 04:45:45 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test5""" - 200 null "application/json; charset=utf-8" 13.0649ms
2025-09-03 04:45:46 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/5""" - null null
2025-09-03 04:45:46 [Information] CORS policy execution successful.
2025-09-03 04:45:46 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/5""" - 204 null null 2.677ms
2025-09-03 04:45:46 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - "application/json" 2
2025-09-03 04:45:46 [Information] CORS policy execution successful.
2025-09-03 04:45:46 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:46 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:45:46 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:45:46 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:45:46 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-03 04:45:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:46 [Information] Notification with ID 0 has been created!
2025-09-03 04:45:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:46 [Information] Friend request send by user with iD 8 to User with ID 5
2025-09-03 04:45:46 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:45:46 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 29.778ms
2025-09-03 04:45:46 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:46 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.friendship.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:45:46 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - 500 null "text/plain; charset=utf-8" 61.5346ms
2025-09-03 04:45:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:47 [Information] CORS policy execution successful.
2025-09-03 04:45:47 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:47 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:47 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:47 [Warning] User with username "test" not found.
2025-09-03 04:45:47 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:47 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:47 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 7.242ms
2025-09-03 04:45:47 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 14.1137ms
2025-09-03 04:45:47 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test6""" - null null
2025-09-03 04:45:47 [Information] CORS policy execution successful.
2025-09-03 04:45:47 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test6""" - 204 null null 3.0681ms
2025-09-03 04:45:47 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test6""" - null null
2025-09-03 04:45:47 [Information] CORS policy execution successful.
2025-09-03 04:45:47 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:47 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:47 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:47 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:45:47 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.2472ms
2025-09-03 04:45:47 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:47 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test6""" - 200 null "application/json; charset=utf-8" 11.2447ms
2025-09-03 04:45:48 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/6""" - null null
2025-09-03 04:45:48 [Information] CORS policy execution successful.
2025-09-03 04:45:48 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/6""" - 204 null null 3.715ms
2025-09-03 04:45:48 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/6""" - "application/json" 2
2025-09-03 04:45:48 [Information] CORS policy execution successful.
2025-09-03 04:45:48 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:48 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:45:48 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:45:48 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:45:48 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-03 04:45:48 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:48 [Information] Notification with ID 0 has been created!
2025-09-03 04:45:48 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:45:48 [Information] Friend request send by user with iD 8 to User with ID 6
2025-09-03 04:45:48 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:45:48 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 28.554ms
2025-09-03 04:45:48 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:48 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.friendship.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:45:48 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/6""" - 500 null "text/plain; charset=utf-8" 63.6724ms
2025-09-03 04:45:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:49 [Information] CORS policy execution successful.
2025-09-03 04:45:49 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:49 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:49 [Warning] User with username "test" not found.
2025-09-03 04:45:49 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:49 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:49 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.8282ms
2025-09-03 04:45:49 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 15.1484ms
2025-09-03 04:45:49 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test8""" - null null
2025-09-03 04:45:49 [Information] CORS policy execution successful.
2025-09-03 04:45:49 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test8""" - 204 null null 3.2753ms
2025-09-03 04:45:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test8""" - null null
2025-09-03 04:45:49 [Information] CORS policy execution successful.
2025-09-03 04:45:49 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:49 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:49 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:45:49 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.5797ms
2025-09-03 04:45:49 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test8""" - 200 null "application/json; charset=utf-8" 11.9436ms
2025-09-03 04:45:51 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:51 [Information] CORS policy execution successful.
2025-09-03 04:45:51 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - 204 null null 2.8455ms
2025-09-03 04:45:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:51 [Information] CORS policy execution successful.
2025-09-03 04:45:51 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:51 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:51 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:51 [Warning] User with username "test" not found.
2025-09-03 04:45:51 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:51 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:51 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 7.2868ms
2025-09-03 04:45:51 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 14.9447ms
2025-09-03 04:45:51 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test7""" - null null
2025-09-03 04:45:51 [Information] CORS policy execution successful.
2025-09-03 04:45:51 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test7""" - 204 null null 2.777ms
2025-09-03 04:45:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test7""" - null null
2025-09-03 04:45:51 [Information] CORS policy execution successful.
2025-09-03 04:45:51 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:51 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:51 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:51 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:45:51 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 5.4647ms
2025-09-03 04:45:51 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test7""" - 200 null "application/json; charset=utf-8" 13.0424ms
2025-09-03 04:45:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:45:54 [Information] CORS policy execution successful.
2025-09-03 04:45:54 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:54 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:54 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:54 [Warning] User with username "test" not found.
2025-09-03 04:45:54 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:45:54 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:45:54 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 7.0662ms
2025-09-03 04:45:54 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 15.6748ms
2025-09-03 04:45:54 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test7""" - null null
2025-09-03 04:45:54 [Information] CORS policy execution successful.
2025-09-03 04:45:54 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:54 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:45:54 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:45:54 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:45:54 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.6995ms
2025-09-03 04:45:54 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:45:54 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test7""" - 200 null "application/json; charset=utf-8" 12.3895ms
2025-09-03 04:45:55 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/7""" - null null
2025-09-03 04:45:55 [Information] CORS policy execution successful.
2025-09-03 04:45:55 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/7""" - 204 null null 2.8324ms
2025-09-03 04:45:55 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/7""" - "application/json" 2
2025-09-03 04:45:55 [Information] CORS policy execution successful.
2025-09-03 04:45:55 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:55 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:45:55 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:45:55 [Warning] Friendship already exists for user with ID 8 and user with ID 7
2025-09-03 04:45:55 [Warning] Failed to send friend request from 8 to 7
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 116
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-03 04:45:55 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:45:55 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 7.9027ms
2025-09-03 04:45:55 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:45:55 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/7""" - 400 null "application/json; charset=utf-8" 16.2211ms
2025-09-03 04:46:06 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - null null
2025-09-03 04:46:06 [Information] CORS policy execution successful.
2025-09-03 04:46:06 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - 204 null null 3.5025ms
2025-09-03 04:46:06 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 53
2025-09-03 04:46:06 [Information] CORS policy execution successful.
2025-09-03 04:46:06 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 04:46:06 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:06 [Information] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:06 [Information] User "test9" logged in successfully at 09/03/2025 01:46:06
2025-09-03 04:46:06 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:46:06 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 335.3977ms
2025-09-03 04:46:06 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 04:46:06 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 346.2538ms
2025-09-03 04:46:08 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/t""" - null null
2025-09-03 04:46:08 [Information] CORS policy execution successful.
2025-09-03 04:46:08 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/t""" - 204 null null 3.1556ms
2025-09-03 04:46:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/t""" - null null
2025-09-03 04:46:08 [Information] CORS policy execution successful.
2025-09-03 04:46:08 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:08 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:08 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:08 [Warning] User with username "t" not found.
2025-09-03 04:46:08 [Warning] User with username "t" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: t was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:08 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:08 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.8516ms
2025-09-03 04:46:08 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/t""" - 404 null "text/plain; charset=utf-8" 15.0439ms
2025-09-03 04:46:08 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/te""" - null null
2025-09-03 04:46:08 [Information] CORS policy execution successful.
2025-09-03 04:46:08 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/te""" - 204 null null 3.5552ms
2025-09-03 04:46:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/te""" - null null
2025-09-03 04:46:08 [Information] CORS policy execution successful.
2025-09-03 04:46:08 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:08 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:08 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:08 [Warning] User with username "te" not found.
2025-09-03 04:46:08 [Warning] User with username "te" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: te was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:08 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:08 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 7.1063ms
2025-09-03 04:46:08 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/te""" - 404 null "text/plain; charset=utf-8" 14.1501ms
2025-09-03 04:46:08 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/tes""" - null null
2025-09-03 04:46:08 [Information] CORS policy execution successful.
2025-09-03 04:46:08 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/tes""" - 204 null null 3.3588ms
2025-09-03 04:46:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/tes""" - null null
2025-09-03 04:46:08 [Information] CORS policy execution successful.
2025-09-03 04:46:08 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:08 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:08 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:08 [Warning] User with username "tes" not found.
2025-09-03 04:46:08 [Warning] User with username "tes" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: tes was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:08 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:08 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 7.6137ms
2025-09-03 04:46:08 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/tes""" - 404 null "text/plain; charset=utf-8" 15.0002ms
2025-09-03 04:46:08 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:46:08 [Information] CORS policy execution successful.
2025-09-03 04:46:08 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - 204 null null 2.898ms
2025-09-03 04:46:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:46:08 [Information] CORS policy execution successful.
2025-09-03 04:46:08 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:08 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:08 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:08 [Warning] User with username "test" not found.
2025-09-03 04:46:08 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:08 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:08 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 8.6273ms
2025-09-03 04:46:08 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 16.735ms
2025-09-03 04:46:08 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test2""" - null null
2025-09-03 04:46:08 [Information] CORS policy execution successful.
2025-09-03 04:46:08 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test2""" - 204 null null 3.448ms
2025-09-03 04:46:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test2""" - null null
2025-09-03 04:46:08 [Information] CORS policy execution successful.
2025-09-03 04:46:08 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:08 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:08 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:08 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:46:08 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.4628ms
2025-09-03 04:46:08 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test2""" - 200 null "application/json; charset=utf-8" 12.8695ms
2025-09-03 04:46:09 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/2""" - null null
2025-09-03 04:46:09 [Information] CORS policy execution successful.
2025-09-03 04:46:09 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/2""" - 204 null null 3.4052ms
2025-09-03 04:46:09 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/2""" - "application/json" 2
2025-09-03 04:46:09 [Information] CORS policy execution successful.
2025-09-03 04:46:09 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:46:09 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:46:09 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:46:09 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:46:09 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-03 04:46:09 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:46:09 [Information] Notification with ID 0 has been created!
2025-09-03 04:46:09 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:46:09 [Information] Friend request send by user with iD 9 to User with ID 2
2025-09-03 04:46:09 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:46:09 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 29.1416ms
2025-09-03 04:46:09 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:46:09 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.friendship.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-03 04:46:09 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/2""" - 500 null "text/plain; charset=utf-8" 61.2696ms
2025-09-03 04:46:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:46:10 [Information] CORS policy execution successful.
2025-09-03 04:46:10 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:10 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:10 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:10 [Warning] User with username "test" not found.
2025-09-03 04:46:10 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:10 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:10 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.9661ms
2025-09-03 04:46:10 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 15.0238ms
2025-09-03 04:46:10 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test3""" - null null
2025-09-03 04:46:10 [Information] CORS policy execution successful.
2025-09-03 04:46:10 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test3""" - 204 null null 3.3443ms
2025-09-03 04:46:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test3""" - null null
2025-09-03 04:46:10 [Information] CORS policy execution successful.
2025-09-03 04:46:10 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:10 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:10 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:10 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:46:10 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.7962ms
2025-09-03 04:46:10 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test3""" - 200 null "application/json; charset=utf-8" 12.4666ms
2025-09-03 04:46:11 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/3""" - null null
2025-09-03 04:46:11 [Information] CORS policy execution successful.
2025-09-03 04:46:11 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/3""" - 204 null null 5.9858ms
2025-09-03 04:46:11 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - "application/json" 2
2025-09-03 04:46:11 [Information] CORS policy execution successful.
2025-09-03 04:46:11 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:46:11 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:46:11 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:46:11 [Warning] Friendship already exists for user with ID 9 and user with ID 3
2025-09-03 04:46:11 [Warning] Failed to send friend request from 9 to 3
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 116
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-03 04:46:11 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:46:11 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 8.2839ms
2025-09-03 04:46:11 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:46:11 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - 400 null "application/json; charset=utf-8" 15.8953ms
2025-09-03 04:46:12 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:46:12 [Information] CORS policy execution successful.
2025-09-03 04:46:12 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:12 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:12 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:12 [Warning] User with username "test" not found.
2025-09-03 04:46:12 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:12 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:12 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 7.4646ms
2025-09-03 04:46:12 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:12 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 15.0643ms
2025-09-03 04:46:12 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test4""" - null null
2025-09-03 04:46:12 [Information] CORS policy execution successful.
2025-09-03 04:46:12 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test4""" - 204 null null 3.4403ms
2025-09-03 04:46:12 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test4""" - null null
2025-09-03 04:46:12 [Information] CORS policy execution successful.
2025-09-03 04:46:12 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:12 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:12 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:12 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:46:12 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.2319ms
2025-09-03 04:46:12 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:12 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test4""" - 200 null "application/json; charset=utf-8" 12.0237ms
2025-09-03 04:46:13 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/4""" - null null
2025-09-03 04:46:13 [Information] CORS policy execution successful.
2025-09-03 04:46:13 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/4""" - 204 null null 2.9522ms
2025-09-03 04:46:13 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - "application/json" 2
2025-09-03 04:46:13 [Information] CORS policy execution successful.
2025-09-03 04:46:13 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:46:13 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:46:13 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:46:13 [Warning] Friendship already exists for user with ID 9 and user with ID 4
2025-09-03 04:46:13 [Warning] Failed to send friend request from 9 to 4
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 116
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-03 04:46:13 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:46:13 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 7.2196ms
2025-09-03 04:46:13 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:46:13 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - 400 null "application/json; charset=utf-8" 16.7179ms
2025-09-03 04:46:14 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:46:14 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:46:14 [Information] CORS policy execution successful.
2025-09-03 04:46:14 [Information] CORS policy execution successful.
2025-09-03 04:46:14 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 9.6678ms
2025-09-03 04:46:14 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 7.354ms
2025-09-03 04:46:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:46:14 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:46:14 [Information] CORS policy execution successful.
2025-09-03 04:46:14 [Information] CORS policy execution successful.
2025-09-03 04:46:14 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:46:14 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:46:14 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:46:14 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:46:14 [Information] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:46:14 [Information] Friendlist for user with ID 9 was found and returned
2025-09-03 04:46:14 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:46:14 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 19.8192ms
2025-09-03 04:46:14 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:46:14 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:46:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 37.3812ms
2025-09-03 04:46:14 [Information] Executed DbCommand ("17"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:46:14 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:46:14 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 49.1168ms
2025-09-03 04:46:14 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:46:14 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 63.2211ms
2025-09-03 04:46:27 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - null null
2025-09-03 04:46:27 [Information] CORS policy execution successful.
2025-09-03 04:46:27 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - 204 null null 2.7765ms
2025-09-03 04:46:27 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 53
2025-09-03 04:46:27 [Information] CORS policy execution successful.
2025-09-03 04:46:27 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 04:46:27 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:27 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:27 [Information] User "test3" logged in successfully at 09/03/2025 01:46:27
2025-09-03 04:46:28 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:46:28 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 155.9451ms
2025-09-03 04:46:28 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 04:46:28 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 164.6314ms
2025-09-03 04:46:43 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:46:43 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:46:43 [Information] CORS policy execution successful.
2025-09-03 04:46:43 [Information] CORS policy execution successful.
2025-09-03 04:46:43 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 15.7387ms
2025-09-03 04:46:43 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 16.4592ms
2025-09-03 04:46:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:46:43 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:46:43 [Information] CORS policy execution successful.
2025-09-03 04:46:43 [Information] CORS policy execution successful.
2025-09-03 04:46:43 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:46:43 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:46:43 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:46:43 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:46:43 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:46:43 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:46:43 [Information] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:46:43 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:46:43 [Information] Friendlist for user with ID 3 was found and returned
2025-09-03 04:46:43 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 68.8626ms
2025-09-03 04:46:43 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:46:43 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:46:43 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 74.1553ms
2025-09-03 04:46:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 91.0648ms
2025-09-03 04:46:43 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:46:43 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 97.8893ms
2025-09-03 04:46:45 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - null null
2025-09-03 04:46:45 [Information] CORS policy execution successful.
2025-09-03 04:46:45 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions""" - 204 null null 2.9773ms
2025-09-03 04:46:45 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 15
2025-09-03 04:46:45 [Information] CORS policy execution successful.
2025-09-03 04:46:45 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 04:46:45 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(Api.IOU.DTOs.CreateSessionDTO)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:46:45 [Information] Executed DbCommand ("18"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Sessions` (`CreatedAt`, `CreatedById`, `Name`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Sessions`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-03 04:46:45 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 04:46:45 [Information] Session "test" created by user 3
2025-09-03 04:46:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:46:45 [Information] Session Created with ID: 5
2025-09-03 04:46:45 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.SessionDTO"'.
2025-09-03 04:46:45 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 42.6794ms
2025-09-03 04:46:45 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-09-03 04:46:45 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 200 null "application/json; charset=utf-8" 53.6616ms
2025-09-03 04:46:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:46:45 [Information] CORS policy execution successful.
2025-09-03 04:46:45 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:46:45 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:46:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:46:45 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:46:45 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:46:45 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 8.9442ms
2025-09-03 04:46:45 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:46:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 18.691ms
2025-09-03 04:46:51 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/t""" - null null
2025-09-03 04:46:51 [Information] CORS policy execution successful.
2025-09-03 04:46:51 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/t""" - 204 null null 2.8012ms
2025-09-03 04:46:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/t""" - null null
2025-09-03 04:46:51 [Information] CORS policy execution successful.
2025-09-03 04:46:51 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:51 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:51 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:51 [Warning] User with username "t" not found.
2025-09-03 04:46:51 [Warning] User with username "t" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: t was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:51 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:51 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 7.8431ms
2025-09-03 04:46:51 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/t""" - 404 null "text/plain; charset=utf-8" 16.9253ms
2025-09-03 04:46:51 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/te""" - null null
2025-09-03 04:46:51 [Information] CORS policy execution successful.
2025-09-03 04:46:51 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/te""" - 204 null null 3.9594ms
2025-09-03 04:46:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/te""" - null null
2025-09-03 04:46:51 [Information] CORS policy execution successful.
2025-09-03 04:46:51 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:51 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:51 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:51 [Warning] User with username "te" not found.
2025-09-03 04:46:51 [Warning] User with username "te" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: te was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:51 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:51 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 13.1776ms
2025-09-03 04:46:51 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/te""" - 404 null "text/plain; charset=utf-8" 22.062ms
2025-09-03 04:46:51 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/tes""" - null null
2025-09-03 04:46:51 [Information] CORS policy execution successful.
2025-09-03 04:46:51 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/tes""" - 204 null null 3.6845ms
2025-09-03 04:46:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/tes""" - null null
2025-09-03 04:46:51 [Information] CORS policy execution successful.
2025-09-03 04:46:51 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:51 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:51 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:51 [Warning] User with username "tes" not found.
2025-09-03 04:46:51 [Warning] User with username "tes" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: tes was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:51 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:51 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 7.0438ms
2025-09-03 04:46:51 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/tes""" - 404 null "text/plain; charset=utf-8" 14.8059ms
2025-09-03 04:46:52 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:46:52 [Information] CORS policy execution successful.
2025-09-03 04:46:52 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test""" - 204 null null 4.1075ms
2025-09-03 04:46:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:46:52 [Information] CORS policy execution successful.
2025-09-03 04:46:52 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:52 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:52 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:52 [Warning] User with username "test" not found.
2025-09-03 04:46:52 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:52 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:52 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.7418ms
2025-09-03 04:46:52 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 14.6095ms
2025-09-03 04:46:52 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test4""" - null null
2025-09-03 04:46:52 [Information] CORS policy execution successful.
2025-09-03 04:46:52 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test4""" - 204 null null 4.071ms
2025-09-03 04:46:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test4""" - null null
2025-09-03 04:46:52 [Information] CORS policy execution successful.
2025-09-03 04:46:52 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:52 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:52 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:52 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:46:52 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 5.1411ms
2025-09-03 04:46:52 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test4""" - 200 null "application/json; charset=utf-8" 43.2234ms
2025-09-03 04:46:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:46:53 [Information] CORS policy execution successful.
2025-09-03 04:46:53 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:53 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:53 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:53 [Warning] User with username "test" not found.
2025-09-03 04:46:53 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:53 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:53 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.6831ms
2025-09-03 04:46:53 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 16.2806ms
2025-09-03 04:46:53 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test3""" - null null
2025-09-03 04:46:53 [Information] CORS policy execution successful.
2025-09-03 04:46:53 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/byUsername/test3""" - 204 null null 3.8161ms
2025-09-03 04:46:53 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test3""" - null null
2025-09-03 04:46:53 [Information] CORS policy execution successful.
2025-09-03 04:46:53 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:53 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:53 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:53 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:46:53 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.9035ms
2025-09-03 04:46:53 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:53 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test3""" - 200 null "application/json; charset=utf-8" 12.1224ms
2025-09-03 04:46:55 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - null null
2025-09-03 04:46:55 [Information] CORS policy execution successful.
2025-09-03 04:46:55 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:55 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:55 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:55 [Warning] User with username "test" not found.
2025-09-03 04:46:55 [Warning] User with username "test" not found
Api.IOU.Exceptions.UserNotFoundException: User with username: test was not found.
   at Api.IOU.Services.UserService.GetByUsernameAsync(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 74
   at Api.IOU.Controllers.UserController.GetByUsername(String username) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 50
2025-09-03 04:46:55 [Information] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
2025-09-03 04:46:55 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 6.9088ms
2025-09-03 04:46:55 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:55 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test""" - 404 null "text/plain; charset=utf-8" 15.7249ms
2025-09-03 04:46:55 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test4""" - null null
2025-09-03 04:46:55 [Information] CORS policy execution successful.
2025-09-03 04:46:55 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:55 [Information] Route matched with "{action = \"GetByUsername\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByUsername(System.String)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:46:55 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:46:55 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-03 04:46:55 [Information] Executed action "Api.IOU.Controllers.UserController.GetByUsername (IOU)" in 4.3706ms
2025-09-03 04:46:55 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetByUsername (IOU)"'
2025-09-03 04:46:55 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/byUsername/test4""" - 200 null "application/json; charset=utf-8" 14.3894ms
2025-09-03 04:46:56 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/4""" - null null
2025-09-03 04:46:56 [Information] CORS policy execution successful.
2025-09-03 04:46:56 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/4""" - 204 null null 3.0233ms
2025-09-03 04:46:56 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - "application/json" 2
2025-09-03 04:46:56 [Information] CORS policy execution successful.
2025-09-03 04:46:56 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:46:56 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:46:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:46:56 [Warning] Friendship already exists for user with ID 3 and user with ID 4
2025-09-03 04:46:56 [Warning] Failed to send friend request from 3 to 4
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 116
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-03 04:46:56 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:46:56 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 8.3554ms
2025-09-03 04:46:56 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-03 04:46:56 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - 400 null "application/json; charset=utf-8" 18.555ms
2025-09-03 04:47:08 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:47:08 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:47:08 [Information] CORS policy execution successful.
2025-09-03 04:47:08 [Information] CORS policy execution successful.
2025-09-03 04:47:08 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 11.0302ms
2025-09-03 04:47:08 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 10.3509ms
2025-09-03 04:47:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:47:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:47:08 [Information] CORS policy execution successful.
2025-09-03 04:47:08 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:47:08 [Information] CORS policy execution successful.
2025-09-03 04:47:08 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:47:08 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:47:08 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:47:08 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:47:08 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:47:08 [Information] Friendlist for user with ID 3 was found and returned
2025-09-03 04:47:08 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:47:08 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:47:08 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:47:08 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 12.182ms
2025-09-03 04:47:08 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 11.2689ms
2025-09-03 04:47:08 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:47:08 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:47:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 28.5888ms
2025-09-03 04:47:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 32.8533ms
2025-09-03 04:47:10 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/5/add/2""" - null null
2025-09-03 04:47:10 [Information] CORS policy execution successful.
2025-09-03 04:47:10 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/5/add/2""" - 204 null null 2.7605ms
2025-09-03 04:47:10 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/5/add/2""" - "application/json" 2
2025-09-03 04:47:10 [Information] CORS policy execution successful.
2025-09-03 04:47:10 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:47:10 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:47:10 [Information] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:47:10 [Information] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:47:10 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-03 04:47:10 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-09-03 04:47:10 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:47:10 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 30.8629ms
2025-09-03 04:47:10 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-09-03 04:47:10 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/5/add/2""" - 200 null "application/json; charset=utf-8" 38.8507ms
2025-09-03 04:47:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:47:10 [Information] CORS policy execution successful.
2025-09-03 04:47:10 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:47:10 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:47:10 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:47:10 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:47:10 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:47:10 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 56.7966ms
2025-09-03 04:47:10 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:47:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 69.1236ms
2025-09-03 04:47:21 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - null null
2025-09-03 04:47:21 [Information] CORS policy execution successful.
2025-09-03 04:47:21 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/user/login""" - 204 null null 3.5613ms
2025-09-03 04:47:21 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 53
2025-09-03 04:47:21 [Information] CORS policy execution successful.
2025-09-03 04:47:21 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 04:47:21 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-03 04:47:21 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-03 04:47:21 [Information] User "test2" logged in successfully at 09/03/2025 01:47:21
2025-09-03 04:47:21 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-03 04:47:21 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 157.6771ms
2025-09-03 04:47:21 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-03 04:47:21 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 166.2802ms
2025-09-03 04:47:27 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-09-03 04:47:27 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:47:27 [Information] CORS policy execution successful.
2025-09-03 04:47:27 [Information] CORS policy execution successful.
2025-09-03 04:47:27 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 204 null null 13.7124ms
2025-09-03 04:47:27 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/friendship/friends""" - 204 null null 15.4023ms
2025-09-03 04:47:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - "application/json" null
2025-09-03 04:47:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-03 04:47:27 [Information] CORS policy execution successful.
2025-09-03 04:47:27 [Information] CORS policy execution successful.
2025-09-03 04:47:27 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:47:27 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:47:27 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-03 04:47:27 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:47:27 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-03 04:47:27 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-03 04:47:27 [Information] Friendlist for user with ID 2 was found and returned
2025-09-03 04:47:27 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:47:27 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-09-03 04:47:27 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 7.5783ms
2025-09-03 04:47:27 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-03 04:47:27 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-03 04:47:27 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 12.0724ms
2025-09-03 04:47:27 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 24.1824ms
2025-09-03 04:47:27 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-09-03 04:47:27 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 32.5868ms
2025-09-03 04:47:30 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/remove/2""" - null null
2025-09-03 04:47:30 [Information] CORS policy execution successful.
2025-09-03 04:47:30 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5062""""/api/sessions/2/remove/2""" - 204 null null 3.0373ms
2025-09-03 04:47:30 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/2""" - null null
2025-09-03 04:47:30 [Information] CORS policy execution successful.
2025-09-03 04:47:30 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:47:30 [Information] Route matched with "{action = \"RemoveUserFromSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveUserFromSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-09-03 04:47:30 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-09-03 04:47:30 [Error] You're not the session owner
System.UnauthorizedAccessException: Only session owner can remove users
   at Api.IOU.Services.SessionService.RemoveUserFromSessionAsync(Int32 sessionId, Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\SessionService.cs:line 185
   at Api.IOU.Controllers.SessionController.RemoveUserFromSession(Int32 sessionId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\SessionController.cs:line 76
2025-09-03 04:47:30 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-09-03 04:47:30 [Information] Executed action "Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)" in 7.6674ms
2025-09-03 04:47:30 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.RemoveUserFromSession (IOU)"'
2025-09-03 04:47:30 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/sessions/2/remove/2""" - 400 null "text/plain; charset=utf-8" 14.8138ms
2025-09-03 04:47:50 [Information] Application is shutting down...
