2025-09-02 02:50:02 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-02 02:50:02 [Information] Creating key {a292728d-3576-4068-956f-a06be35e2935} with creation date 2025-09-01 23:50:02Z, activation date 2025-09-01 23:50:02Z, and expiration date 2025-11-30 23:50:02Z.
2025-09-02 02:50:02 [Information] Writing data to file '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys\key-a292728d-3576-4068-956f-a06be35e2935.xml"'.
2025-09-02 02:50:03 [Information] Now listening on: "http://localhost:5062"
2025-09-02 02:50:03 [Information] Application started. Press Ctrl+C to shut down.
2025-09-02 02:50:03 [Information] Hosting environment: "Development"
2025-09-02 02:50:03 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-02 02:50:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/""" - null null
2025-09-02 02:50:07 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'id' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 02:50:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/""" - 500 null "text/html; charset=utf-8" 77.8354ms
2025-09-02 02:50:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/favicon.ico""" - null null
2025-09-02 02:50:08 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'id' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 02:50:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/favicon.ico""" - 500 null "text/plain; charset=utf-8" 15.9968ms
2025-09-02 02:50:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/""" - null null
2025-09-02 02:50:10 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'id' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 02:50:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/""" - 500 null "text/html; charset=utf-8" 15.1059ms
2025-09-02 02:50:10 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/favicon.ico""" - null null
2025-09-02 02:50:10 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'id' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 02:50:10 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/favicon.ico""" - 500 null "text/plain; charset=utf-8" 12.8281ms
2025-09-02 02:52:08 [Information] Application is shutting down...
2025-09-02 02:52:13 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-02 02:52:13 [Information] Now listening on: "http://localhost:5062"
2025-09-02 02:52:13 [Information] Application started. Press Ctrl+C to shut down.
2025-09-02 02:52:13 [Information] Hosting environment: "Development"
2025-09-02 02:52:13 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-02 02:52:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/""" - null null
2025-09-02 02:52:17 [Warning] Failed to determine the https port for redirect.
2025-09-02 02:52:18 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/""" - 404 0 null 166.9175ms
2025-09-02 02:52:18 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/", Response status code: 404
2025-09-02 02:52:19 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/""" - null null
2025-09-02 02:52:19 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/""" - 404 0 null 8.753ms
2025-09-02 02:52:19 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/", Response status code: 404
2025-09-02 02:52:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/""" - null null
2025-09-02 02:52:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/""" - 404 0 null 18.2126ms
2025-09-02 02:52:30 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:5062""""/", Response status code: 404
2025-09-02 02:53:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger""" - null null
2025-09-02 02:53:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger""" - 301 0 null 2.7183ms
2025-09-02 02:53:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - null null
2025-09-02 02:53:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 69.3657ms
2025-09-02 02:53:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/swagger-ui.css""" - null null
2025-09-02 02:53:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.css""" - null null
2025-09-02 02:53:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/swagger-ui-bundle.js""" - null null
2025-09-02 02:53:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/swagger-ui-standalone-preset.js""" - null null
2025-09-02 02:53:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.css""" - 200 202 "text/css" 28.4237ms
2025-09-02 02:53:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.js""" - null null
2025-09-02 02:53:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 3.5084ms
2025-09-02 02:53:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/swagger-ui-standalone-preset.js""" - 200 229223 "text/javascript" 43.1974ms
2025-09-02 02:53:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/swagger-ui.css""" - 200 155175 "text/css" 45.1135ms
2025-09-02 02:53:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/swagger-ui-bundle.js""" - 200 1485750 "text/javascript" 61.5818ms
2025-09-02 02:53:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - null null
2025-09-02 02:53:09 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/favicon-32x32.png""" - null null
2025-09-02 02:53:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 2.8743ms
2025-09-02 02:53:09 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 165.6273ms
2025-09-02 02:53:55 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - "application/json" 92
2025-09-02 02:53:56 [Information] CORS policy execution failed.
2025-09-02 02:53:56 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 02:53:56 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 02:53:56 [Information] Route matched with "{action = \"Register\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.IOU.DTOs.UserRegisterDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 02:53:59 [Information] Executed DbCommand ("161"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 02:53:59 [Information] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 225)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1"
2025-09-02 02:54:00 [Information] Executed DbCommand ("21"ms) [Parameters=["@p0='?' (Size = 225), @p1='?' (Size = 255), @p2='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Users` (`Email`, `Password`, `Username`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 02:54:00 [Information] User "test1" registered successfully at 09/01/2025 23:54:00
2025-09-02 02:54:00 [Information] Executing "CreatedAtActionResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-02 02:54:00 [Information] Executed action "Api.IOU.Controllers.UserController.Register (IOU)" in 4168.3662ms
2025-09-02 02:54:00 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 02:54:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - 201 null "application/json; charset=utf-8" 5057.4802ms
2025-09-02 02:54:18 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - "application/json" 92
2025-09-02 02:54:18 [Information] CORS policy execution failed.
2025-09-02 02:54:18 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 02:54:18 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 02:54:18 [Information] Route matched with "{action = \"Register\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.IOU.DTOs.UserRegisterDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 02:54:18 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 02:54:18 [Information] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 225)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1"
2025-09-02 02:54:18 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 225), @p1='?' (Size = 255), @p2='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Users` (`Email`, `Password`, `Username`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 02:54:18 [Information] User "test2" registered successfully at 09/01/2025 23:54:18
2025-09-02 02:54:18 [Information] Executing "CreatedAtActionResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-02 02:54:18 [Information] Executed action "Api.IOU.Controllers.UserController.Register (IOU)" in 229.6459ms
2025-09-02 02:54:18 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 02:54:18 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - 201 null "application/json; charset=utf-8" 262.1264ms
2025-09-02 02:54:38 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 02:54:38 [Information] CORS policy execution failed.
2025-09-02 02:54:38 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 02:54:38 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 02:54:38 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 02:54:39 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 02:54:39 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 229.5068ms
2025-09-02 02:54:39 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 02:54:39 [Error] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at Api.IOU.Services.UserService.LoginUser(String username, String password) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 177
   at Api.IOU.Controllers.UserController.Login(LoginDTO dto) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 02:54:39 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 500 null "text/plain; charset=utf-8" 286.2017ms
2025-09-02 02:55:04 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 61
2025-09-02 02:55:04 [Information] CORS policy execution failed.
2025-09-02 02:55:04 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 02:55:04 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 02:55:04 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 02:55:04 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 02:55:04 [Warning] Login failed for "test1"
2025-09-02 02:55:04 [Warning] Login failed for "test1"
Api.IOU.Exceptions.InvalidLoginException: Invalid username or password
   at Api.IOU.Services.UserService.LoginUser(String username, String password) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 172
   at Api.IOU.Controllers.UserController.Login(LoginDTO dto) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 96
2025-09-02 02:55:04 [Information] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType4`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 02:55:04 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 178.6331ms
2025-09-02 02:55:04 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 02:55:04 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 401 null "application/json; charset=utf-8" 216.4318ms
2025-09-02 02:55:11 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 02:55:11 [Information] CORS policy execution failed.
2025-09-02 02:55:11 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 02:55:11 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 02:55:11 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 02:55:11 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 02:55:11 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 189.0108ms
2025-09-02 02:55:11 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 02:55:11 [Error] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at Api.IOU.Services.UserService.LoginUser(String username, String password) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 177
   at Api.IOU.Controllers.UserController.Login(LoginDTO dto) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 02:55:11 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 500 null "text/plain; charset=utf-8" 210.2003ms
2025-09-02 02:55:53 [Information] Application is shutting down...
2025-09-02 02:59:34 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-02 02:59:34 [Information] Now listening on: "http://localhost:5062"
2025-09-02 02:59:34 [Information] Application started. Press Ctrl+C to shut down.
2025-09-02 02:59:34 [Information] Hosting environment: "Development"
2025-09-02 02:59:34 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-02 02:59:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - null null
2025-09-02 02:59:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 94.4257ms
2025-09-02 02:59:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - null null
2025-09-02 02:59:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 123.9892ms
2025-09-02 02:59:56 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 02:59:56 [Warning] Failed to determine the https port for redirect.
2025-09-02 02:59:56 [Information] CORS policy execution failed.
2025-09-02 02:59:56 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 02:59:56 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 02:59:56 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 02:59:57 [Information] Executed DbCommand ("59"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 02:59:58 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 2094.7841ms
2025-09-02 02:59:58 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 02:59:58 [Error] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at Api.IOU.Services.UserService.LoginUser(String username, String password) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 177
   at Api.IOU.Controllers.UserController.Login(LoginDTO dto) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 02:59:58 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 500 null "text/plain; charset=utf-8" 2211.7577ms
2025-09-02 03:01:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/1""" - null null
2025-09-02 03:01:08 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.GetById (IOU)"'
2025-09-02 03:01:08 [Information] Route matched with "{action = \"GetById\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:01:08 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:01:08 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-02 03:01:08 [Information] Executed action "Api.IOU.Controllers.UserController.GetById (IOU)" in 64.833ms
2025-09-02 03:01:08 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.GetById (IOU)"'
2025-09-02 03:01:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/user/1""" - 200 null "application/json; charset=utf-8" 101.9178ms
2025-09-02 03:03:42 [Information] Application is shutting down...
2025-09-02 03:03:48 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-02 03:03:48 [Information] Now listening on: "http://localhost:5062"
2025-09-02 03:03:48 [Information] Application started. Press Ctrl+C to shut down.
2025-09-02 03:03:48 [Information] Hosting environment: "Development"
2025-09-02 03:03:48 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-02 03:03:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - null null
2025-09-02 03:03:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 89.5402ms
2025-09-02 03:03:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - null null
2025-09-02 03:03:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 136.4083ms
2025-09-02 03:04:02 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 48
2025-09-02 03:04:02 [Warning] Failed to determine the https port for redirect.
2025-09-02 03:04:02 [Information] CORS policy execution failed.
2025-09-02 03:04:02 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:04:02 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:04:02 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:04:03 [Information] Executed DbCommand ("39"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:04:04 [Warning] Login failed for "test1"
2025-09-02 03:04:04 [Warning] Login failed for "test1"
Api.IOU.Exceptions.InvalidLoginException: Invalid username or password
   at Api.IOU.Services.UserService.LoginUser(String username, String password) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\UserService.cs:line 172
   at Api.IOU.Controllers.UserController.Login(LoginDTO dto) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\UserController.cs:line 96
2025-09-02 03:04:04 [Information] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType4`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:04:04 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 1787.6245ms
2025-09-02 03:04:04 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:04:04 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 401 null "application/json; charset=utf-8" 1867.2352ms
2025-09-02 03:04:13 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:04:13 [Information] CORS policy execution failed.
2025-09-02 03:04:13 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:04:13 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:04:13 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:04:13 [Information] Executed DbCommand ("5"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:04:13 [Information] User "test1" logged in successfully at 09/02/2025 00:04:13
2025-09-02 03:04:13 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:04:13 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 431.6815ms
2025-09-02 03:04:13 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:04:13 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 450.7714ms
2025-09-02 03:04:34 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/2""" - null 0
2025-09-02 03:04:34 [Information] CORS policy execution failed.
2025-09-02 03:04:34 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:04:34 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:04:34 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:04:34 [Information] Executed DbCommand ("20"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:04:34 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:04:34 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:04:34 [Information] Notification with ID 0 has been created!
2025-09-02 03:04:34 [Information] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:04:34 [Information] Friend request send by user with iD 1 to User with ID 2
2025-09-02 03:04:34 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:04:34 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 341.0321ms
2025-09-02 03:04:34 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:04:34 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/2""" - 200 null "application/json; charset=utf-8" 413.8742ms
2025-09-02 03:04:51 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - null null
2025-09-02 03:04:51 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:04:51 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:04:51 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:04:51 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:04:51 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:04:51 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 81.9686ms
2025-09-02 03:04:51 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:04:51 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - 200 null "application/json; charset=utf-8" 103.6603ms
2025-09-02 03:06:04 [Information] Application is shutting down...
2025-09-02 03:06:15 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-02 03:06:15 [Information] Now listening on: "http://localhost:5062"
2025-09-02 03:06:15 [Information] Application started. Press Ctrl+C to shut down.
2025-09-02 03:06:15 [Information] Hosting environment: "Development"
2025-09-02 03:06:15 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-02 03:06:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - null null
2025-09-02 03:06:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 86.382ms
2025-09-02 03:06:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - null null
2025-09-02 03:06:16 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 150.1934ms
2025-09-02 03:06:22 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - null null
2025-09-02 03:06:22 [Warning] Failed to determine the https port for redirect.
2025-09-02 03:06:22 [Information] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2025-09-02 03:06:22 [Information] AuthenticationScheme: "Bearer" was challenged.
2025-09-02 03:06:22 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - 401 0 null 55.9236ms
2025-09-02 03:06:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/1""" - null null
2025-09-02 03:06:40 [Information] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2025-09-02 03:06:40 [Information] AuthenticationScheme: "Bearer" was challenged.
2025-09-02 03:06:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/1""" - 401 0 null 13.6557ms
2025-09-02 03:07:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:07:00 [Information] CORS policy execution failed.
2025-09-02 03:07:00 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:07:00 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:07:00 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:07:02 [Information] Executed DbCommand ("40"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:07:02 [Information] User "test2" logged in successfully at 09/02/2025 00:07:02
2025-09-02 03:07:02 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:07:02 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 1823.3237ms
2025-09-02 03:07:02 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:07:02 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 1869.5922ms
2025-09-02 03:07:18 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - null null
2025-09-02 03:07:18 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:18 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:07:18 [Information] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:07:18 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:07:18 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:07:18 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 114.6841ms
2025-09-02 03:07:18 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:18 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - 200 null "application/json; charset=utf-8" 171.5359ms
2025-09-02 03:07:25 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:07:25 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:25 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:07:26 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:07:26 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:07:26 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:07:26 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 79.5096ms
2025-09-02 03:07:26 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:26 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 96.8231ms
2025-09-02 03:07:29 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:07:29 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:29 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:07:29 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:07:29 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:07:29 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:07:29 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 17.2479ms
2025-09-02 03:07:29 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:29 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 44.4587ms
2025-09-02 03:07:33 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:07:33 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:33 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:07:33 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:07:33 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:07:33 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:07:33 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 12.3515ms
2025-09-02 03:07:33 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:33 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 21.2657ms
2025-09-02 03:07:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/3""" - null null
2025-09-02 03:07:36 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:36 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:07:36 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:07:36 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:07:36 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:07:36 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 15.5766ms
2025-09-02 03:07:36 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/3""" - 200 null "application/json; charset=utf-8" 25.2008ms
2025-09-02 03:07:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/4""" - null null
2025-09-02 03:07:38 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:38 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:07:38 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:07:38 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:07:38 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:07:38 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 13.455ms
2025-09-02 03:07:38 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/4""" - 200 null "application/json; charset=utf-8" 25.2695ms
2025-09-02 03:07:49 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/4""" - null null
2025-09-02 03:07:49 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:49 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:07:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:07:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:07:49 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:07:49 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 13.3957ms
2025-09-02 03:07:49 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:07:49 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/4""" - 200 null "application/json; charset=utf-8" 31.3368ms
2025-09-02 03:07:58 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/1""" - null 0
2025-09-02 03:07:58 [Information] CORS policy execution failed.
2025-09-02 03:07:58 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:07:58 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:07:58 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:07:58 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:07:58 [Warning] Friendship already exists for user with ID 2 and user with ID 1
2025-09-02 03:07:58 [Warning] Failed to send friend request from 2 to 1
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 114
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-02 03:07:58 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:07:58 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 60.2074ms
2025-09-02 03:07:58 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:07:58 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/1""" - 400 null "application/json; charset=utf-8" 78.2583ms
2025-09-02 03:08:12 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/1""" - null 0
2025-09-02 03:08:12 [Information] CORS policy execution failed.
2025-09-02 03:08:12 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:08:12 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:08:12 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:08:12 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:08:12 [Information] Friend request with ID 1 accepted
2025-09-02 03:08:12 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:08:13 [Information] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (Size = 20), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `Friendships` SET `Status` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p2, @p3);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:08:13 [Information] Notification with ID 0 has been created!
2025-09-02 03:08:13 [Information] Executed DbCommand ("18"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:08:13 [Information] Friend request accepted from user 2
2025-09-02 03:08:13 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:08:13 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 215.3703ms
2025-09-02 03:08:13 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:08:13 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/1""" - 200 null "application/json; charset=utf-8" 247.0265ms
2025-09-02 03:08:24 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:08:24 [Information] CORS policy execution failed.
2025-09-02 03:08:24 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:08:24 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:08:24 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:08:24 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:08:24 [Information] User "test1" logged in successfully at 09/02/2025 00:08:24
2025-09-02 03:08:24 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:08:24 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 342.015ms
2025-09-02 03:08:24 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:08:24 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 364.8932ms
2025-09-02 03:08:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:08:40 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:08:40 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:08:40 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:08:40 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:08:40 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:08:40 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 17.5484ms
2025-09-02 03:08:40 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:08:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 28.3374ms
2025-09-02 03:08:50 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - null null
2025-09-02 03:08:50 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:08:50 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:08:50 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:08:50 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:08:50 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:08:50 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 18.8743ms
2025-09-02 03:08:50 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:08:50 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - 200 null "application/json; charset=utf-8" 28.1921ms
2025-09-02 03:09:01 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:09:01 [Information] CORS policy execution failed.
2025-09-02 03:09:01 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:09:01 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:09:01 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:09:01 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:09:01 [Information] User "test2" logged in successfully at 09/02/2025 00:09:01
2025-09-02 03:09:01 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:09:01 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 175.4582ms
2025-09-02 03:09:01 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:09:01 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 190.1984ms
2025-09-02 03:09:16 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - null null
2025-09-02 03:09:16 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:09:16 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:09:16 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:09:16 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:09:16 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:09:16 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 19.0948ms
2025-09-02 03:09:16 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:09:16 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - 200 null "application/json; charset=utf-8" 28.1097ms
2025-09-02 03:10:29 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - "application/json" 92
2025-09-02 03:10:29 [Information] CORS policy execution failed.
2025-09-02 03:10:29 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:10:29 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 03:10:29 [Information] Route matched with "{action = \"Register\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.IOU.DTOs.UserRegisterDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:10:29 [Information] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:10:29 [Information] Executed DbCommand ("0"ms) [Parameters=["@__email_0='?' (Size = 225)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1"
2025-09-02 03:10:30 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 225), @p1='?' (Size = 255), @p2='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Users` (`Email`, `Password`, `Username`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:10:30 [Information] User "test3" registered successfully at 09/02/2025 00:10:30
2025-09-02 03:10:30 [Information] Executing "CreatedAtActionResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-02 03:10:30 [Information] Executed action "Api.IOU.Controllers.UserController.Register (IOU)" in 214.943ms
2025-09-02 03:10:30 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 03:10:30 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - 201 null "application/json; charset=utf-8" 237.8042ms
2025-09-02 03:10:35 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:10:35 [Information] CORS policy execution failed.
2025-09-02 03:10:35 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:10:35 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:10:35 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:10:35 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:10:35 [Information] User "test3" logged in successfully at 09/02/2025 00:10:35
2025-09-02 03:10:35 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:10:35 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 166.9181ms
2025-09-02 03:10:35 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:10:35 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 200.6337ms
2025-09-02 03:11:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - null null
2025-09-02 03:11:03 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:11:03 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:11:03 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:11:03 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:11:03 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:11:03 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 12.4996ms
2025-09-02 03:11:03 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:11:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - 200 null "application/json; charset=utf-8" 27.2116ms
2025-09-02 03:11:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/3""" - null null
2025-09-02 03:11:07 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:11:07 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:11:07 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:11:07 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:11:07 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:11:07 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 25.9084ms
2025-09-02 03:11:07 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:11:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/3""" - 200 null "application/json; charset=utf-8" 41.4869ms
2025-09-02 03:11:07 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/3""" - null null
2025-09-02 03:11:07 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:11:07 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:11:07 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:11:07 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:11:07 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:11:07 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 7.9922ms
2025-09-02 03:11:07 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:11:07 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/3""" - 200 null "application/json; charset=utf-8" 20.6354ms
2025-09-02 03:11:24 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/2""" - null 0
2025-09-02 03:11:24 [Information] CORS policy execution failed.
2025-09-02 03:11:24 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:11:24 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:11:24 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:11:24 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:11:24 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:11:24 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:11:24 [Information] Notification with ID 0 has been created!
2025-09-02 03:11:24 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:11:24 [Information] Friend request send by user with iD 3 to User with ID 2
2025-09-02 03:11:24 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:11:24 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 32.523ms
2025-09-02 03:11:24 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:11:24 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/2""" - 200 null "application/json; charset=utf-8" 63.3605ms
2025-09-02 03:11:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/3""" - null null
2025-09-02 03:11:36 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:11:36 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:11:36 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:11:36 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:11:36 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:11:36 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 12.9906ms
2025-09-02 03:11:36 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:11:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/3""" - 200 null "application/json; charset=utf-8" 27.7078ms
2025-09-02 03:11:55 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:11:55 [Information] CORS policy execution failed.
2025-09-02 03:11:55 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:11:55 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:11:55 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:11:55 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:11:55 [Information] User "test2" logged in successfully at 09/02/2025 00:11:55
2025-09-02 03:11:55 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:11:55 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 182.8869ms
2025-09-02 03:11:55 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:11:55 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 232.183ms
2025-09-02 03:12:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - null null
2025-09-02 03:12:15 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:12:15 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:12:15 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:12:15 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:12:15 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:12:15 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 14.9631ms
2025-09-02 03:12:15 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:12:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - 200 null "application/json; charset=utf-8" 64.5037ms
2025-09-02 03:12:37 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/3""" - null 0
2025-09-02 03:12:37 [Information] CORS policy execution failed.
2025-09-02 03:12:37 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:12:37 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:12:37 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:12:37 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:12:37 [Warning] Friend request with ID 3 was not found
2025-09-02 03:12:37 [Warning]  Friend request was not found
Api.IOU.Exceptions.FriendRequestNotFoundException: Friend request not found.
   at Api.IOU.Services.FriendshipService.AcceptFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 28
   at Api.IOU.Controllers.FriendshipController.AcceptFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 48
2025-09-02 03:12:37 [Information] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:12:37 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 13.0297ms
2025-09-02 03:12:37 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:12:37 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/3""" - 404 null "application/json; charset=utf-8" 50.4602ms
2025-09-02 03:12:45 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/2""" - null 0
2025-09-02 03:12:45 [Information] CORS policy execution failed.
2025-09-02 03:12:45 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:12:45 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:12:45 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:12:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:12:45 [Information] Friend request with ID 2 accepted
2025-09-02 03:12:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:12:45 [Information] Executed DbCommand ("18"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (Size = 20), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `Friendships` SET `Status` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p2, @p3);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:12:45 [Information] Notification with ID 0 has been created!
2025-09-02 03:12:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:12:45 [Information] Friend request accepted from user 2
2025-09-02 03:12:45 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:12:45 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 42.8708ms
2025-09-02 03:12:45 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:12:45 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/2""" - 200 null "application/json; charset=utf-8" 55.2316ms
2025-09-02 03:12:57 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - null null
2025-09-02 03:12:57 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:12:57 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:12:57 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:12:57 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:12:57 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:12:57 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 34.3685ms
2025-09-02 03:12:57 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:12:57 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - 200 null "application/json; charset=utf-8" 57.5757ms
2025-09-02 03:13:32 [Information] Application is shutting down...
2025-09-02 03:13:39 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-02 03:13:39 [Information] Now listening on: "http://localhost:5062"
2025-09-02 03:13:39 [Information] Application started. Press Ctrl+C to shut down.
2025-09-02 03:13:39 [Information] Hosting environment: "Development"
2025-09-02 03:13:39 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-02 03:13:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - null null
2025-09-02 03:13:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 94.5565ms
2025-09-02 03:13:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - null null
2025-09-02 03:13:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 140.2084ms
2025-09-02 03:13:50 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/4""" - null null
2025-09-02 03:13:50 [Warning] Failed to determine the https port for redirect.
2025-09-02 03:13:50 [Information] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2025-09-02 03:13:50 [Information] AuthenticationScheme: "Bearer" was challenged.
2025-09-02 03:13:50 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/4""" - 401 0 null 46.7076ms
2025-09-02 03:14:04 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:14:04 [Information] CORS policy execution failed.
2025-09-02 03:14:04 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:14:04 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:14:04 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:14:05 [Information] Executed DbCommand ("36"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:14:06 [Information] User "test3" logged in successfully at 09/02/2025 00:14:06
2025-09-02 03:14:06 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:14:06 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 1741.0556ms
2025-09-02 03:14:06 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:14:06 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 1789.0815ms
2025-09-02 03:14:25 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/4""" - null null
2025-09-02 03:14:25 [Information] CORS policy execution failed.
2025-09-02 03:14:25 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:14:25 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:14:25 [Information] Route matched with "{action = \"DenyFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:14:25 [Information] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:14:25 [Warning] Friend request with ID 4 was not found
2025-09-02 03:14:25 [Warning]  Friend request was not found
Api.IOU.Exceptions.FriendRequestNotFoundException: Friend request not found.
   at Api.IOU.Services.FriendshipService.DenyFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 56
   at Api.IOU.Controllers.FriendshipController.DenyFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 77
2025-09-02 03:14:25 [Information] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:14:25 [Information] Executed action "Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)" in 110.046ms
2025-09-02 03:14:25 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:14:25 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/4""" - 404 null "application/json; charset=utf-8" 193.5702ms
2025-09-02 03:14:29 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/3""" - null null
2025-09-02 03:14:29 [Information] CORS policy execution failed.
2025-09-02 03:14:29 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:14:29 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:14:29 [Information] Route matched with "{action = \"DenyFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:14:29 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:14:29 [Warning] Friend request with ID 3 was not found
2025-09-02 03:14:29 [Warning]  Friend request was not found
Api.IOU.Exceptions.FriendRequestNotFoundException: Friend request not found.
   at Api.IOU.Services.FriendshipService.DenyFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 56
   at Api.IOU.Controllers.FriendshipController.DenyFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 77
2025-09-02 03:14:29 [Information] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:14:29 [Information] Executed action "Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)" in 75.247ms
2025-09-02 03:14:29 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:14:29 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/3""" - 404 null "application/json; charset=utf-8" 94.7369ms
2025-09-02 03:14:41 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/2""" - null null
2025-09-02 03:14:41 [Information] CORS policy execution failed.
2025-09-02 03:14:41 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:14:41 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:14:41 [Information] Route matched with "{action = \"DenyFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:14:41 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:14:41 [Warning] Cannot deny foreign friend requests.
2025-09-02 03:14:41 [Warning] Invalid friend request.
Api.IOU.Exceptions.InvalidFriendRequest: You can only deny requests sent to you.
   at Api.IOU.Services.FriendshipService.DenyFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 62
   at Api.IOU.Controllers.FriendshipController.DenyFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 77
2025-09-02 03:14:41 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:14:41 [Information] Executed action "Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)" in 36.332ms
2025-09-02 03:14:41 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:14:41 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/2""" - 400 null "application/json; charset=utf-8" 51.2134ms
2025-09-02 03:14:45 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/1""" - null null
2025-09-02 03:14:45 [Information] CORS policy execution failed.
2025-09-02 03:14:45 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:14:45 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:14:45 [Information] Route matched with "{action = \"DenyFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:14:45 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:14:45 [Warning] Cannot deny foreign friend requests.
2025-09-02 03:14:45 [Warning] Invalid friend request.
Api.IOU.Exceptions.InvalidFriendRequest: You can only deny requests sent to you.
   at Api.IOU.Services.FriendshipService.DenyFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 62
   at Api.IOU.Controllers.FriendshipController.DenyFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 77
2025-09-02 03:14:45 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:14:45 [Information] Executed action "Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)" in 7.7429ms
2025-09-02 03:14:45 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:14:45 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/1""" - 400 null "application/json; charset=utf-8" 24.0656ms
2025-09-02 03:14:48 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/3""" - null null
2025-09-02 03:14:48 [Information] CORS policy execution failed.
2025-09-02 03:14:48 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:14:48 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:14:48 [Information] Route matched with "{action = \"DenyFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:14:48 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:14:48 [Warning] Friend request with ID 3 was not found
2025-09-02 03:14:48 [Warning]  Friend request was not found
Api.IOU.Exceptions.FriendRequestNotFoundException: Friend request not found.
   at Api.IOU.Services.FriendshipService.DenyFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 56
   at Api.IOU.Controllers.FriendshipController.DenyFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 77
2025-09-02 03:14:48 [Information] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:14:48 [Information] Executed action "Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)" in 11.16ms
2025-09-02 03:14:48 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:14:48 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/3""" - 404 null "application/json; charset=utf-8" 26.1823ms
2025-09-02 03:14:55 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-02 03:14:55 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-02 03:14:55 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:14:55 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-02 03:14:55 [Information] Friendlist for user with ID 3 was found and returned
2025-09-02 03:14:55 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:14:55 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 93.7614ms
2025-09-02 03:14:55 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-02 03:14:55 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 107.8607ms
2025-09-02 03:15:11 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/2""" - null null
2025-09-02 03:15:11 [Information] CORS policy execution failed.
2025-09-02 03:15:11 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:15:11 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:15:11 [Information] Route matched with "{action = \"DenyFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:15:11 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:15:11 [Warning] Cannot deny foreign friend requests.
2025-09-02 03:15:11 [Warning] Invalid friend request.
Api.IOU.Exceptions.InvalidFriendRequest: You can only deny requests sent to you.
   at Api.IOU.Services.FriendshipService.DenyFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 62
   at Api.IOU.Controllers.FriendshipController.DenyFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 77
2025-09-02 03:15:11 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:15:11 [Information] Executed action "Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)" in 10.9965ms
2025-09-02 03:15:11 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-09-02 03:15:11 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/2""" - 400 null "application/json; charset=utf-8" 40.8498ms
2025-09-02 03:15:25 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/1""" - null 0
2025-09-02 03:15:25 [Information] CORS policy execution failed.
2025-09-02 03:15:25 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:15:25 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:15:25 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:15:25 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:15:25 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:15:25 [Information] Executed DbCommand ("21"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:15:25 [Information] Notification with ID 0 has been created!
2025-09-02 03:15:25 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:15:25 [Information] Friend request send by user with iD 3 to User with ID 1
2025-09-02 03:15:25 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:15:25 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 251.5179ms
2025-09-02 03:15:25 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:15:25 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/1""" - 200 null "application/json; charset=utf-8" 269.9035ms
2025-09-02 03:15:44 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:15:44 [Information] CORS policy execution failed.
2025-09-02 03:15:44 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:15:44 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:15:44 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:15:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:15:44 [Information] User "test1" logged in successfully at 09/02/2025 00:15:44
2025-09-02 03:15:44 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:15:44 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 264.8174ms
2025-09-02 03:15:44 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:15:44 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 280.1855ms
2025-09-02 03:16:01 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:16:01 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:16:01 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:16:01 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:16:01 [Information] Executed DbCommand ("19"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:16:01 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:16:01 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 45.0087ms
2025-09-02 03:16:01 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:16:01 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 75.8416ms
2025-09-02 03:16:26 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/4""" - null 0
2025-09-02 03:16:26 [Information] CORS policy execution failed.
2025-09-02 03:16:26 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:16:26 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:16:26 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:16:26 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:16:26 [Warning] Friend request with ID 4 was not found
2025-09-02 03:16:26 [Warning]  Friend request was not found
Api.IOU.Exceptions.FriendRequestNotFoundException: Friend request not found.
   at Api.IOU.Services.FriendshipService.AcceptFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 28
   at Api.IOU.Controllers.FriendshipController.AcceptFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 48
2025-09-02 03:16:26 [Information] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:16:26 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 11.2328ms
2025-09-02 03:16:26 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:16:26 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/4""" - 404 null "application/json; charset=utf-8" 50.6246ms
2025-09-02 03:16:29 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/5""" - null 0
2025-09-02 03:16:29 [Information] CORS policy execution failed.
2025-09-02 03:16:29 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:16:29 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:16:29 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:16:29 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:16:29 [Warning] Friend request with ID 5 was not found
2025-09-02 03:16:29 [Warning]  Friend request was not found
Api.IOU.Exceptions.FriendRequestNotFoundException: Friend request not found.
   at Api.IOU.Services.FriendshipService.AcceptFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 28
   at Api.IOU.Controllers.FriendshipController.AcceptFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 48
2025-09-02 03:16:29 [Information] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:16:29 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 10.2215ms
2025-09-02 03:16:29 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:16:29 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/5""" - 404 null "application/json; charset=utf-8" 28.311ms
2025-09-02 03:16:32 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/3""" - null 0
2025-09-02 03:16:32 [Information] CORS policy execution failed.
2025-09-02 03:16:32 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:16:32 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:16:32 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:16:32 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:16:32 [Information] Friend request with ID 3 accepted
2025-09-02 03:16:32 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:16:32 [Information] Executed DbCommand ("28"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (Size = 20), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `Friendships` SET `Status` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p2, @p3);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:16:32 [Information] Notification with ID 0 has been created!
2025-09-02 03:16:32 [Information] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:16:32 [Information] Friend request accepted from user 1
2025-09-02 03:16:32 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:16:32 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 63.0386ms
2025-09-02 03:16:32 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:16:32 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/3""" - 200 null "application/json; charset=utf-8" 77.3465ms
2025-09-02 03:16:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:16:36 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:16:36 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:16:36 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:16:36 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:16:36 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:16:36 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 13.1751ms
2025-09-02 03:16:36 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:16:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 24.8982ms
2025-09-02 03:16:50 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:16:50 [Information] CORS policy execution failed.
2025-09-02 03:16:50 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:16:50 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:16:50 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:16:50 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:16:50 [Information] User "test3" logged in successfully at 09/02/2025 00:16:50
2025-09-02 03:16:50 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:16:50 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 162.2881ms
2025-09-02 03:16:50 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:16:50 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 181.8121ms
2025-09-02 03:17:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:17:03 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:03 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:17:03 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:17:03 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:17:03 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:17:03 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 15.187ms
2025-09-02 03:17:03 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 29.8668ms
2025-09-02 03:17:06 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - null null
2025-09-02 03:17:06 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:06 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:17:06 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:17:06 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:17:06 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:17:06 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 14.1991ms
2025-09-02 03:17:06 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:06 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/2""" - 200 null "application/json; charset=utf-8" 27.9901ms
2025-09-02 03:17:08 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/3""" - null null
2025-09-02 03:17:08 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:08 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:17:08 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:17:08 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:17:08 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:17:08 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 12.438ms
2025-09-02 03:17:08 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:08 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/3""" - 200 null "application/json; charset=utf-8" 22.7968ms
2025-09-02 03:17:11 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/4""" - null null
2025-09-02 03:17:11 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:11 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:17:11 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:17:11 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:17:11 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:17:11 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 21.4505ms
2025-09-02 03:17:11 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/4""" - 200 null "application/json; charset=utf-8" 33.6772ms
2025-09-02 03:17:13 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/5""" - null null
2025-09-02 03:17:13 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:13 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:17:13 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:17:13 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:17:13 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:17:13 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 11.8153ms
2025-09-02 03:17:13 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:13 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/5""" - 200 null "application/json; charset=utf-8" 26.1269ms
2025-09-02 03:17:16 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/5543""" - null null
2025-09-02 03:17:16 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:16 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:17:16 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:17:16 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:17:16 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:17:16 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 15.2686ms
2025-09-02 03:17:16 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:17:16 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/5543""" - 200 null "application/json; charset=utf-8" 37.3156ms
2025-09-02 03:18:18 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/pending""" - null null
2025-09-02 03:18:18 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)"'
2025-09-02 03:18:18 [Information] Route matched with "{action = \"GetPendingRequests\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingRequests()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:18:18 [Information] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-02 03:18:18 [Information] Friend requestes for user with ID 3 were found and returned
2025-09-02 03:18:18 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:18:18 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)" in 27.3203ms
2025-09-02 03:18:18 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)"'
2025-09-02 03:18:18 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/pending""" - 200 null "application/json; charset=utf-8" 44.766ms
2025-09-02 03:18:22 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-09-02 03:18:22 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-02 03:18:22 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:18:22 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-09-02 03:18:22 [Information] Friendlist for user with ID 3 was found and returned
2025-09-02 03:18:22 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:18:22 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 15.9886ms
2025-09-02 03:18:22 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-09-02 03:18:22 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 40.2669ms
2025-09-02 03:25:06 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/5543""" - null null
2025-09-02 03:25:06 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:25:06 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:25:06 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:25:06 [Information] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:25:06 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:25:06 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 58.0615ms
2025-09-02 03:25:06 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:25:06 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/5543""" - 200 null "application/json; charset=utf-8" 67.5032ms
2025-09-02 03:25:15 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/1""" - null null
2025-09-02 03:25:15 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)"'
2025-09-02 03:25:15 [Information] Route matched with "{action = \"GetById\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIdAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:25:15 [Information] Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:25:15 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.NotificationDTO"'.
2025-09-02 03:25:15 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)" in 23.5935ms
2025-09-02 03:25:15 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)"'
2025-09-02 03:25:15 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/1""" - 200 null "application/json; charset=utf-8" 35.4644ms
2025-09-02 03:25:20 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:25:20 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:25:20 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:25:20 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:25:20 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:25:20 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:25:20 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 13.7296ms
2025-09-02 03:25:20 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:25:20 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 28.1473ms
2025-09-02 03:25:23 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/1""" - null null
2025-09-02 03:25:23 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)"'
2025-09-02 03:25:23 [Information] Route matched with "{action = \"GetById\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIdAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:25:23 [Information] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:25:23 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.NotificationDTO"'.
2025-09-02 03:25:23 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)" in 8.5864ms
2025-09-02 03:25:23 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)"'
2025-09-02 03:25:23 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/1""" - 200 null "application/json; charset=utf-8" 19.6837ms
2025-09-02 03:25:38 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/3""" - null null
2025-09-02 03:25:38 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)"'
2025-09-02 03:25:38 [Information] Route matched with "{action = \"GetById\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIdAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:25:38 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:25:38 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.NotificationDTO"'.
2025-09-02 03:25:38 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)" in 9.3229ms
2025-09-02 03:25:38 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)"'
2025-09-02 03:25:38 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/3""" - 200 null "application/json; charset=utf-8" 40.0309ms
2025-09-02 03:25:41 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/4""" - null null
2025-09-02 03:25:41 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)"'
2025-09-02 03:25:41 [Information] Route matched with "{action = \"GetById\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIdAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:25:41 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:25:41 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.NotificationDTO"'.
2025-09-02 03:25:41 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)" in 8.5114ms
2025-09-02 03:25:41 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetByIdAsync (IOU)"'
2025-09-02 03:25:41 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/4""" - 200 null "application/json; charset=utf-8" 16.5749ms
2025-09-02 03:27:02 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - "application/json" 92
2025-09-02 03:27:02 [Information] CORS policy execution failed.
2025-09-02 03:27:02 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:27:02 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 03:27:02 [Information] Route matched with "{action = \"Register\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.IOU.DTOs.UserRegisterDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:27:02 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:27:02 [Information] Executed DbCommand ("0"ms) [Parameters=["@__email_0='?' (Size = 225)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1"
2025-09-02 03:27:03 [Information] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (Size = 225), @p1='?' (Size = 255), @p2='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Users` (`Email`, `Password`, `Username`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:27:03 [Information] User "test4" registered successfully at 09/02/2025 00:27:03
2025-09-02 03:27:03 [Information] Executing "CreatedAtActionResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-02 03:27:03 [Information] Executed action "Api.IOU.Controllers.UserController.Register (IOU)" in 212.1157ms
2025-09-02 03:27:03 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 03:27:03 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - 201 null "application/json; charset=utf-8" 231.1719ms
2025-09-02 03:27:15 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:27:15 [Information] CORS policy execution failed.
2025-09-02 03:27:15 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:27:15 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:27:15 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:27:15 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:27:15 [Information] User "test4" logged in successfully at 09/02/2025 00:27:15
2025-09-02 03:27:15 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:27:15 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 185.7764ms
2025-09-02 03:27:15 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:27:15 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 198.9392ms
2025-09-02 03:27:30 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - null 0
2025-09-02 03:27:30 [Information] CORS policy execution failed.
2025-09-02 03:27:30 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:27:30 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:27:30 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:27:30 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:27:30 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:27:30 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:27:30 [Information] Notification with ID 0 has been created!
2025-09-02 03:27:30 [Information] Executed DbCommand ("23"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:27:30 [Information] Friend request send by user with iD 4 to User with ID 3
2025-09-02 03:27:30 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:27:30 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 54.2233ms
2025-09-02 03:27:30 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:27:30 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - 200 null "application/json; charset=utf-8" 68.4892ms
2025-09-02 03:27:37 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:27:37 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:27:37 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:27:37 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:27:37 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:27:37 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:27:37 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 7.5453ms
2025-09-02 03:27:37 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:27:37 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 42.2486ms
2025-09-02 03:27:40 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/4""" - null null
2025-09-02 03:27:40 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:27:40 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:27:40 [Information] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:27:40 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:27:40 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:27:40 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 10.4174ms
2025-09-02 03:27:40 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:27:40 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/4""" - 200 null "application/json; charset=utf-8" 38.0847ms
2025-09-02 03:27:49 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:27:49 [Information] CORS policy execution failed.
2025-09-02 03:27:49 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:27:49 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:27:49 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:27:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:27:49 [Information] User "test3" logged in successfully at 09/02/2025 00:27:49
2025-09-02 03:27:49 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:27:49 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 184.0316ms
2025-09-02 03:27:49 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:27:49 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 224.8258ms
2025-09-02 03:28:05 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/4""" - null null
2025-09-02 03:28:05 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:28:05 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:28:05 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:28:05 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:28:05 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:28:05 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 20.2771ms
2025-09-02 03:28:05 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:28:05 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/4""" - 200 null "application/json; charset=utf-8" 51.8508ms
2025-09-02 03:28:48 [Information] Application is shutting down...
2025-09-02 03:29:35 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-02 03:29:35 [Information] Now listening on: "http://localhost:5062"
2025-09-02 03:29:35 [Information] Application started. Press Ctrl+C to shut down.
2025-09-02 03:29:35 [Information] Hosting environment: "Development"
2025-09-02 03:29:35 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-02 03:29:35 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - null null
2025-09-02 03:29:35 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 84.4162ms
2025-09-02 03:29:35 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - null null
2025-09-02 03:29:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 135.1994ms
2025-09-02 03:29:54 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:29:54 [Warning] Failed to determine the https port for redirect.
2025-09-02 03:29:54 [Information] CORS policy execution failed.
2025-09-02 03:29:54 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:29:54 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:29:54 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:29:55 [Information] Executed DbCommand ("37"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:29:56 [Information] User "test2" logged in successfully at 09/02/2025 00:29:56
2025-09-02 03:29:56 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:29:56 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 1723.8762ms
2025-09-02 03:29:56 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:29:56 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 1816.3851ms
2025-09-02 03:30:13 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:30:13 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:30:13 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:30:13 [Information] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:30:13 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:30:13 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:30:13 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 104.4762ms
2025-09-02 03:30:13 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:30:13 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 177.3979ms
2025-09-02 03:30:32 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - null 0
2025-09-02 03:30:32 [Information] CORS policy execution failed.
2025-09-02 03:30:32 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:30:32 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:30:32 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:30:32 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:30:32 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:30:32 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:30:32 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:30:32 [Information] Notification with ID 0 has been created!
2025-09-02 03:30:32 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:30:32 [Information] Friend request send by user with iD 2 to User with ID 4
2025-09-02 03:30:32 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:30:32 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 273.0279ms
2025-09-02 03:30:32 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:30:32 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.friendship.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:30:32 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - 500 null "text/plain; charset=utf-8" 343.4364ms
2025-09-02 03:30:48 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - null 0
2025-09-02 03:30:48 [Information] CORS policy execution failed.
2025-09-02 03:30:48 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:30:48 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:30:48 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:30:48 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:30:48 [Warning] Friendship already exists for user with ID 2 and user with ID 3
2025-09-02 03:30:48 [Warning] Failed to send friend request from 2 to 3
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 114
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-02 03:30:48 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:30:48 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 30.9096ms
2025-09-02 03:30:48 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:30:48 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - 400 null "application/json; charset=utf-8" 66.4454ms
2025-09-02 03:30:52 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - null 0
2025-09-02 03:30:52 [Information] CORS policy execution failed.
2025-09-02 03:30:52 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:30:52 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:30:52 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:30:52 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:30:52 [Warning] Friendship already exists for user with ID 2 and user with ID 4
2025-09-02 03:30:52 [Warning] Failed to send friend request from 2 to 4
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 114
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-02 03:30:52 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:30:52 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 16.3418ms
2025-09-02 03:30:52 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:30:52 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - 400 null "application/json; charset=utf-8" 30.6097ms
2025-09-02 03:30:56 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - null 0
2025-09-02 03:30:56 [Information] CORS policy execution failed.
2025-09-02 03:30:56 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:30:56 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:30:56 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:30:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:30:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:30:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:30:56 [Error] Failed executing DbCommand ("40"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:30:56 [Error] An exception occurred in the database while saving changes for context type '"Api.IOU.Data.AppDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ioudb`.`notifications`, CONSTRAINT `FK_Notifications_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1081
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 131
   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 487
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ioudb`.`notifications`, CONSTRAINT `FK_Notifications_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1081
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 131
   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 487
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-02 03:30:56 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 86.8211ms
2025-09-02 03:30:56 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:30:56 [Error] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ioudb`.`notifications`, CONSTRAINT `FK_Notifications_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1081
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 131
   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 487
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Api.IOU.Repositories.NotificationRepository.CreateAsync(Notification notification) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Repositories\NotificationRepository.cs:line 19
   at Api.IOU.Services.NotificationService.CreateAsync(NotificationDTO dto) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\NotificationService.cs:line 33
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 131
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:30:56 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - 500 null "text/plain; charset=utf-8" 115.5502ms
2025-09-02 03:30:59 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/6""" - null 0
2025-09-02 03:30:59 [Information] CORS policy execution failed.
2025-09-02 03:30:59 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:30:59 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:30:59 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:30:59 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:30:59 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:30:59 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:30:59 [Error] Failed executing DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:30:59 [Error] An exception occurred in the database while saving changes for context type '"Api.IOU.Data.AppDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ioudb`.`notifications`, CONSTRAINT `FK_Notifications_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1081
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 131
   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 487
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ioudb`.`notifications`, CONSTRAINT `FK_Notifications_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1081
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 131
   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 487
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-02 03:30:59 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 43.3559ms
2025-09-02 03:30:59 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:30:59 [Error] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ioudb`.`notifications`, CONSTRAINT `FK_Notifications_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `users` (`Id`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1081
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 37
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 131
   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 487
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 357
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 350
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Api.IOU.Repositories.NotificationRepository.CreateAsync(Notification notification) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Repositories\NotificationRepository.cs:line 19
   at Api.IOU.Services.NotificationService.CreateAsync(NotificationDTO dto) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\NotificationService.cs:line 33
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 131
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:30:59 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/6""" - 500 null "text/plain; charset=utf-8" 78.7359ms
2025-09-02 03:31:46 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - null 0
2025-09-02 03:31:46 [Information] CORS policy execution failed.
2025-09-02 03:31:46 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:31:46 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:31:46 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:31:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:31:46 [Warning] Friendship already exists for user with ID 2 and user with ID 4
2025-09-02 03:31:46 [Warning] Failed to send friend request from 2 to 4
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 114
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-02 03:31:46 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:31:46 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 11.5225ms
2025-09-02 03:31:46 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:31:46 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/4""" - 400 null "application/json; charset=utf-8" 23.4198ms
2025-09-02 03:32:01 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:32:01 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:32:01 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:32:01 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:32:01 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:32:01 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:32:01 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 13.4064ms
2025-09-02 03:32:01 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:32:01 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 30.0451ms
2025-09-02 03:32:36 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - "application/json" 91
2025-09-02 03:32:36 [Information] CORS policy execution failed.
2025-09-02 03:32:36 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:32:36 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 03:32:36 [Information] Route matched with "{action = \"Register\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.IOU.DTOs.UserRegisterDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:32:36 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:32:36 [Information] Executed DbCommand ("8"ms) [Parameters=["@__email_0='?' (Size = 225)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1"
2025-09-02 03:32:37 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 225), @p1='?' (Size = 255), @p2='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Users` (`Email`, `Password`, `Username`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:32:37 [Information] User "test5" registered successfully at 09/02/2025 00:32:37
2025-09-02 03:32:37 [Information] Executing "CreatedAtActionResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-02 03:32:37 [Information] Executed action "Api.IOU.Controllers.UserController.Register (IOU)" in 395.4546ms
2025-09-02 03:32:37 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 03:32:37 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - 201 null "application/json; charset=utf-8" 432.7646ms
2025-09-02 03:32:46 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - null 0
2025-09-02 03:32:46 [Information] CORS policy execution failed.
2025-09-02 03:32:46 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:32:46 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:46 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:32:46 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:32:46 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:32:46 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:32:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:32:46 [Information] Notification with ID 0 has been created!
2025-09-02 03:32:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:32:46 [Information] Friend request send by user with iD 2 to User with ID 5
2025-09-02 03:32:46 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:32:46 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 38.2556ms
2025-09-02 03:32:46 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:46 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.friendship.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:32:46 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - 500 null "text/plain; charset=utf-8" 92.2602ms
2025-09-02 03:32:50 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - null 0
2025-09-02 03:32:50 [Information] CORS policy execution failed.
2025-09-02 03:32:50 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:32:50 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:50 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:32:50 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:32:50 [Warning] Friendship already exists for user with ID 2 and user with ID 3
2025-09-02 03:32:50 [Warning] Failed to send friend request from 2 to 3
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 114
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-02 03:32:50 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:32:50 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 11.784ms
2025-09-02 03:32:50 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:50 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - 400 null "application/json; charset=utf-8" 25.1472ms
2025-09-02 03:32:53 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - null 0
2025-09-02 03:32:53 [Information] CORS policy execution failed.
2025-09-02 03:32:53 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:32:53 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:53 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:32:53 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:32:53 [Warning] Friendship already exists for user with ID 2 and user with ID 5
2025-09-02 03:32:53 [Warning] Failed to send friend request from 2 to 5
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 114
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-02 03:32:53 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:32:53 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 11.1269ms
2025-09-02 03:32:53 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:53 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - 400 null "application/json; charset=utf-8" 25.964ms
2025-09-02 03:32:55 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - null 0
2025-09-02 03:32:55 [Information] CORS policy execution failed.
2025-09-02 03:32:55 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:32:55 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:55 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:32:55 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:32:55 [Warning] Friendship already exists for user with ID 2 and user with ID 5
2025-09-02 03:32:55 [Warning] Failed to send friend request from 2 to 5
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 114
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-02 03:32:55 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:32:55 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 13.0306ms
2025-09-02 03:32:55 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:55 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - 400 null "application/json; charset=utf-8" 23.7076ms
2025-09-02 03:32:56 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - null 0
2025-09-02 03:32:56 [Information] CORS policy execution failed.
2025-09-02 03:32:56 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:32:56 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:56 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:32:56 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:32:56 [Warning] Friendship already exists for user with ID 2 and user with ID 5
2025-09-02 03:32:56 [Warning] Failed to send friend request from 2 to 5
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 114
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-02 03:32:56 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:32:56 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 10.3726ms
2025-09-02 03:32:56 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:56 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - 400 null "application/json; charset=utf-8" 21.8003ms
2025-09-02 03:32:56 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - null 0
2025-09-02 03:32:56 [Information] CORS policy execution failed.
2025-09-02 03:32:56 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:32:56 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:56 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:32:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:32:56 [Warning] Friendship already exists for user with ID 2 and user with ID 5
2025-09-02 03:32:56 [Warning] Failed to send friend request from 2 to 5
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 114
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-02 03:32:56 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:32:56 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 7.7031ms
2025-09-02 03:32:56 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:32:56 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - 400 null "application/json; charset=utf-8" 36.1444ms
2025-09-02 03:33:31 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:33:31 [Information] CORS policy execution failed.
2025-09-02 03:33:31 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:33:31 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:33:31 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:33:31 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:33:31 [Information] User "test5" logged in successfully at 09/02/2025 00:33:31
2025-09-02 03:33:31 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:33:31 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 167.8922ms
2025-09-02 03:33:31 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:33:31 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 198.1283ms
2025-09-02 03:33:44 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:33:44 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:33:44 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:33:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:33:44 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:33:44 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:33:44 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 18.4078ms
2025-09-02 03:33:44 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:33:44 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 33.2579ms
2025-09-02 03:34:28 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/5""" - null 0
2025-09-02 03:34:28 [Information] CORS policy execution failed.
2025-09-02 03:34:28 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:34:28 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:34:28 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:34:28 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:34:28 [Warning] Cannot accept foreign friend requests.
2025-09-02 03:34:28 [Warning] Invalid friend request.
Api.IOU.Exceptions.InvalidFriendRequest: You can only accept requests sent to you.
   at Api.IOU.Services.FriendshipService.AcceptFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 34
   at Api.IOU.Controllers.FriendshipController.AcceptFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 48
2025-09-02 03:34:28 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:34:28 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 14.9023ms
2025-09-02 03:34:28 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:34:28 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/5""" - 400 null "application/json; charset=utf-8" 31.3948ms
2025-09-02 03:34:31 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/6""" - null 0
2025-09-02 03:34:31 [Information] CORS policy execution failed.
2025-09-02 03:34:31 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:34:31 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:34:31 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:34:31 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:34:31 [Information] Friend request with ID 6 accepted
2025-09-02 03:34:31 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:34:31 [Information] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (Size = 20), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `Friendships` SET `Status` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p2, @p3);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:34:31 [Information] Notification with ID 0 has been created!
2025-09-02 03:34:31 [Information] Executed DbCommand ("0"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:34:31 [Information] Friend request accepted from user 5
2025-09-02 03:34:31 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:34:31 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 34.1536ms
2025-09-02 03:34:31 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:34:31 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/6""" - 200 null "application/json; charset=utf-8" 52.2356ms
2025-09-02 03:34:36 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:34:36 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:34:36 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:34:36 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:34:36 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:34:36 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:34:36 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 14.4737ms
2025-09-02 03:34:36 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:34:36 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 28.9309ms
2025-09-02 03:34:53 [Information] Application is shutting down...
2025-09-02 03:36:08 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-02 03:36:08 [Information] Now listening on: "http://localhost:5062"
2025-09-02 03:36:08 [Information] Application started. Press Ctrl+C to shut down.
2025-09-02 03:36:08 [Information] Hosting environment: "Development"
2025-09-02 03:36:08 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-02 03:36:44 [Information] Application is shutting down...
2025-09-02 03:36:51 [Information] User profile is available. Using '"C:\Users\agame\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-02 03:36:51 [Information] Now listening on: "http://localhost:5062"
2025-09-02 03:36:51 [Information] Application started. Press Ctrl+C to shut down.
2025-09-02 03:36:51 [Information] Hosting environment: "Development"
2025-09-02 03:36:51 [Information] Content root path: "C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou"
2025-09-02 03:36:57 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - "application/json" 91
2025-09-02 03:36:57 [Warning] Failed to determine the https port for redirect.
2025-09-02 03:36:57 [Information] CORS policy execution failed.
2025-09-02 03:36:57 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:36:57 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 03:36:57 [Information] Route matched with "{action = \"Register\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.IOU.DTOs.UserRegisterDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:36:58 [Information] Executed DbCommand ("41"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:36:58 [Information] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 225)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1"
2025-09-02 03:36:59 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 225), @p1='?' (Size = 255), @p2='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Users` (`Email`, `Password`, `Username`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:36:59 [Information] User "test6" registered successfully at 09/02/2025 00:36:59
2025-09-02 03:36:59 [Information] Executing "CreatedAtActionResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-09-02 03:36:59 [Information] Executed action "Api.IOU.Controllers.UserController.Register (IOU)" in 1901.1324ms
2025-09-02 03:36:59 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-09-02 03:36:59 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - 201 null "application/json; charset=utf-8" 2097.9114ms
2025-09-02 03:37:09 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/6""" - null 0
2025-09-02 03:37:09 [Information] CORS policy execution failed.
2025-09-02 03:37:09 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:37:09 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:37:09 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:37:09 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:37:09 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:37:09 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:37:09 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:37:10 [Information] Notification with ID 0 has been created!
2025-09-02 03:37:10 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:37:10 [Information] Friend request send by user with iD 5 to User with ID 6
2025-09-02 03:37:10 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:37:10 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 352.2256ms
2025-09-02 03:37:10 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:37:10 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.friendship.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:37:10 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/6""" - 500 null "text/plain; charset=utf-8" 417.9236ms
2025-09-02 03:37:14 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/6""" - null 0
2025-09-02 03:37:14 [Information] CORS policy execution failed.
2025-09-02 03:37:14 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:37:14 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:37:14 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:37:14 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-09-02 03:37:14 [Warning] Friendship already exists for user with ID 5 and user with ID 6
2025-09-02 03:37:14 [Warning] Failed to send friend request from 5 to 6
Api.IOU.Exceptions.InvalidFriendRequest: Friendship already exists
   at Api.IOU.Services.FriendshipService.SendFriendRequestAsync(Int32 userId, Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 115
   at Api.IOU.Controllers.FriendshipController.SendFriendRequest(Int32 friendId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 30
2025-09-02 03:37:14 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:37:14 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 87.1299ms
2025-09-02 03:37:14 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-09-02 03:37:14 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/6""" - 400 null "application/json; charset=utf-8" 105.8815ms
2025-09-02 03:38:11 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:38:11 [Information] CORS policy execution failed.
2025-09-02 03:38:11 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:38:11 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:38:11 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:38:11 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:38:12 [Information] User "test6" logged in successfully at 09/02/2025 00:38:12
2025-09-02 03:38:12 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:38:12 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 360.4669ms
2025-09-02 03:38:12 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:38:12 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 409.0589ms
2025-09-02 03:38:24 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:38:24 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:38:24 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:38:24 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:24 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:38:24 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:38:24 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 26.5015ms
2025-09-02 03:38:24 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:38:24 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 45.8434ms
2025-09-02 03:38:37 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - null 0
2025-09-02 03:38:37 [Information] CORS policy execution failed.
2025-09-02 03:38:37 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:38:37 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:37 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:38:38 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:38 [Information] Friend request with ID 7 accepted
2025-09-02 03:38:38 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:38 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:38:38 [Information] Executed DbCommand ("16"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (Size = 20), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `Friendships` SET `Status` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p2, @p3);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:38:38 [Information] Notification with ID 0 has been created!
2025-09-02 03:38:38 [Information] Executed DbCommand ("0"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:38:38 [Information] Friend request accepted from user 6
2025-09-02 03:38:38 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:38:38 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 75.0833ms
2025-09-02 03:38:38 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:38 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.success.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:38:38 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - 500 null "text/plain; charset=utf-8" 125.1427ms
2025-09-02 03:38:40 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - null 0
2025-09-02 03:38:40 [Information] CORS policy execution failed.
2025-09-02 03:38:40 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:38:40 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:40 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:38:40 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:40 [Information] Friend request with ID 7 accepted
2025-09-02 03:38:40 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:40 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:38:40 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:38:40 [Information] Notification with ID 0 has been created!
2025-09-02 03:38:40 [Information] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:38:40 [Information] Friend request accepted from user 6
2025-09-02 03:38:40 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:38:40 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 31.0731ms
2025-09-02 03:38:40 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:40 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.success.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:38:40 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - 500 null "text/plain; charset=utf-8" 72.8849ms
2025-09-02 03:38:41 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - null 0
2025-09-02 03:38:41 [Information] CORS policy execution failed.
2025-09-02 03:38:41 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:38:41 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:41 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:38:41 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:41 [Information] Friend request with ID 7 accepted
2025-09-02 03:38:41 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:41 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:38:41 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:38:41 [Information] Notification with ID 0 has been created!
2025-09-02 03:38:41 [Information] Executed DbCommand ("0"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:38:41 [Information] Friend request accepted from user 6
2025-09-02 03:38:41 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:38:41 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 34.7367ms
2025-09-02 03:38:41 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:41 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.success.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:38:41 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - 500 null "text/plain; charset=utf-8" 102.6509ms
2025-09-02 03:38:43 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/6""" - null 0
2025-09-02 03:38:43 [Information] CORS policy execution failed.
2025-09-02 03:38:43 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:38:43 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:43 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:38:43 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:43 [Warning] Cannot accept foreign friend requests.
2025-09-02 03:38:43 [Warning] Invalid friend request.
Api.IOU.Exceptions.InvalidFriendRequest: You can only accept requests sent to you.
   at Api.IOU.Services.FriendshipService.AcceptFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 34
   at Api.IOU.Controllers.FriendshipController.AcceptFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 48
2025-09-02 03:38:43 [Information] Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:38:43 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 10.7928ms
2025-09-02 03:38:43 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:43 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/6""" - 400 null "application/json; charset=utf-8" 21.6322ms
2025-09-02 03:38:47 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - null 0
2025-09-02 03:38:47 [Information] CORS policy execution failed.
2025-09-02 03:38:47 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:38:47 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:47 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:38:47 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:47 [Information] Friend request with ID 7 accepted
2025-09-02 03:38:47 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:47 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:38:47 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:38:47 [Information] Notification with ID 0 has been created!
2025-09-02 03:38:47 [Information] Executed DbCommand ("0"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:38:47 [Information] Friend request accepted from user 6
2025-09-02 03:38:47 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:38:47 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 28.6101ms
2025-09-02 03:38:47 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:47 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.success.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:38:47 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - 500 null "text/plain; charset=utf-8" 74.9235ms
2025-09-02 03:38:48 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - null 0
2025-09-02 03:38:48 [Information] CORS policy execution failed.
2025-09-02 03:38:48 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:38:48 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:48 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:38:48 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:48 [Information] Friend request with ID 7 accepted
2025-09-02 03:38:48 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:48 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:38:48 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:38:48 [Information] Notification with ID 0 has been created!
2025-09-02 03:38:48 [Information] Executed DbCommand ("0"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:38:48 [Information] Friend request accepted from user 6
2025-09-02 03:38:48 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:38:48 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 26.7672ms
2025-09-02 03:38:48 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:48 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.success.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:38:48 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - 500 null "text/plain; charset=utf-8" 63.9267ms
2025-09-02 03:38:48 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - null 0
2025-09-02 03:38:48 [Information] CORS policy execution failed.
2025-09-02 03:38:48 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:38:48 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:48 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:38:48 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:48 [Information] Friend request with ID 7 accepted
2025-09-02 03:38:48 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:48 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:38:48 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:38:48 [Information] Notification with ID 0 has been created!
2025-09-02 03:38:48 [Information] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:38:48 [Information] Friend request accepted from user 6
2025-09-02 03:38:48 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:38:48 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 26.3581ms
2025-09-02 03:38:48 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:48 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.success.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:38:48 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - 500 null "text/plain; charset=utf-8" 66.808ms
2025-09-02 03:38:49 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - null 0
2025-09-02 03:38:49 [Information] CORS policy execution failed.
2025-09-02 03:38:49 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:38:49 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:49 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:38:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:49 [Information] Friend request with ID 7 accepted
2025-09-02 03:38:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:38:49 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:38:49 [Information] Notification with ID 0 has been created!
2025-09-02 03:38:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:38:49 [Information] Friend request accepted from user 6
2025-09-02 03:38:49 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:38:49 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 27.1449ms
2025-09-02 03:38:49 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:49 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.success.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:38:49 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - 500 null "text/plain; charset=utf-8" 65.5983ms
2025-09-02 03:38:49 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - null 0
2025-09-02 03:38:49 [Information] CORS policy execution failed.
2025-09-02 03:38:49 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:38:49 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:49 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:38:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:49 [Information] Friend request with ID 7 accepted
2025-09-02 03:38:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:38:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:38:49 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:38:49 [Information] Notification with ID 0 has been created!
2025-09-02 03:38:49 [Information] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:38:49 [Information] Friend request accepted from user 6
2025-09-02 03:38:49 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:38:49 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 28.8214ms
2025-09-02 03:38:49 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:38:49 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.success.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:38:49 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - 500 null "text/plain; charset=utf-8" 75.857ms
2025-09-02 03:39:14 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/8""" - null 0
2025-09-02 03:39:14 [Information] CORS policy execution failed.
2025-09-02 03:39:14 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:39:14 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:39:14 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:39:14 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:39:14 [Warning] Friend request with ID 8 was not found
2025-09-02 03:39:14 [Warning]  Friend request was not found
Api.IOU.Exceptions.FriendRequestNotFoundException: Friend request not found.
   at Api.IOU.Services.FriendshipService.AcceptFriendRequestAsync(Int32 requestId, Int32 userId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Services\FriendshipService.cs:line 28
   at Api.IOU.Controllers.FriendshipController.AcceptFriendRequest(Int32 requestId) in C:\Users\agame\OneDrive\Desktop\Projects\I-O-U\api\iou\Controllers\FriendshipController.cs:line 48
2025-09-02 03:39:14 [Information] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:39:14 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 10.9562ms
2025-09-02 03:39:14 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:39:14 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/8""" - 404 null "application/json; charset=utf-8" 22.2972ms
2025-09-02 03:39:18 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - null 0
2025-09-02 03:39:18 [Information] CORS policy execution failed.
2025-09-02 03:39:18 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:39:18 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:39:18 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-09-02 03:39:18 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:39:18 [Information] Friend request with ID 7 accepted
2025-09-02 03:39:18 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:39:18 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`Id` = @__id_0
LIMIT 1"
2025-09-02 03:39:18 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Notifications` (`Message`, `UserId`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Notifications`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-09-02 03:39:18 [Information] Notification with ID 0 has been created!
2025-09-02 03:39:18 [Information] Executed DbCommand ("0"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-09-02 03:39:18 [Information] Friend request accepted from user 6
2025-09-02 03:39:18 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:39:18 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 29.8098ms
2025-09-02 03:39:18 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-09-02 03:39:18 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.success.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.User.Friendships.Id.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-02 03:39:18 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/7""" - 500 null "text/plain; charset=utf-8" 78.448ms
2025-09-02 03:40:49 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 62
2025-09-02 03:40:49 [Information] CORS policy execution failed.
2025-09-02 03:40:49 [Information] Request origin "http://localhost:5062" does not have permission to access the resource.
2025-09-02 03:40:49 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:40:49 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-09-02 03:40:49 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-09-02 03:40:49 [Information] User "test5" logged in successfully at 09/02/2025 00:40:49
2025-09-02 03:40:49 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-09-02 03:40:49 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 161.9837ms
2025-09-02 03:40:49 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-09-02 03:40:49 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 194.8253ms
2025-09-02 03:41:02 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - null null
2025-09-02 03:41:02 [Information] Executing endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:41:02 [Information] Route matched with "{action = \"GetAll\", controller = \"Notification\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync(Int32)" on controller "Api.IOU.Controllers.NotificationController" ("IOU").
2025-09-02 03:41:02 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-09-02 03:41:02 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `n`.`Id`, `n`.`Message`, `n`.`UserId`
FROM `Notifications` AS `n`
WHERE `n`.`UserId` = @__userId_0"
2025-09-02 03:41:02 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[Api.IOU.Models.Notification, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.NotificationDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-09-02 03:41:02 [Information] Executed action "Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)" in 12.2473ms
2025-09-02 03:41:02 [Information] Executed endpoint '"Api.IOU.Controllers.NotificationController.GetAllAsync (IOU)"'
2025-09-02 03:41:02 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/notifications/all/1""" - 200 null "application/json; charset=utf-8" 25.3338ms
2025-09-02 03:42:52 [Information] Application is shutting down...
