2025-08-27 20:59:20 [Information] User profile is available. Using '"C:\Users\Dioni\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-27 20:59:20 [Information] Now listening on: "http://localhost:5062"
2025-08-27 20:59:20 [Information] Application started. Press Ctrl+C to shut down.
2025-08-27 20:59:20 [Information] Hosting environment: "Development"
2025-08-27 20:59:20 [Information] Content root path: "C:\Users\Dioni\OneDrive\Desktop\Projects\IOU\api\iou"
2025-08-27 20:59:26 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - null null
2025-08-27 20:59:26 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 121.7091ms
2025-08-27 20:59:53 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 66
2025-08-27 20:59:53 [Warning] Failed to determine the https port for redirect.
2025-08-27 20:59:53 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 20:59:54 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-08-27 20:59:54 [Warning] The foreign key property '"SessionUser"."UserId1"' was created in shadow state because a conflicting property with the simple name '"UserId"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-27 20:59:55 [Information] Executed DbCommand ("66"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-08-27 20:59:56 [Information] User "dionisis2" logged in successfully at 08/27/2025 17:59:56
2025-08-27 20:59:56 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 20:59:56 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 2238.8875ms
2025-08-27 20:59:56 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 20:59:56 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 2368.0855ms
2025-08-27 21:00:18 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-08-27 21:00:18 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-08-27 21:00:18 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 21:00:18 [Information] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-08-27 21:00:18 [Information] Friendlist for user with ID 3 was found and returned
2025-08-27 21:00:18 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:00:18 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 121.6847ms
2025-08-27 21:00:18 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-08-27 21:00:18 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 165.0307ms
2025-08-27 21:00:39 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 14
2025-08-27 21:00:39 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-08-27 21:00:39 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(System.String)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-08-27 21:00:39 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 1.6655ms
2025-08-27 21:00:39 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-08-27 21:00:39 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Api.IOU.Services.ISessionService' while attempting to activate 'Api.IOU.Controllers.SessionController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method140(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-27 21:00:39 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 500 null "text/plain; charset=utf-8" 34.7763ms
2025-08-27 21:01:39 [Information] Application is shutting down...
2025-08-27 21:02:07 [Information] User profile is available. Using '"C:\Users\Dioni\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-27 21:02:07 [Information] Now listening on: "http://localhost:5062"
2025-08-27 21:02:07 [Information] Application started. Press Ctrl+C to shut down.
2025-08-27 21:02:07 [Information] Hosting environment: "Development"
2025-08-27 21:02:07 [Information] Content root path: "C:\Users\Dioni\OneDrive\Desktop\Projects\IOU\api\iou"
2025-08-27 21:02:11 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - null null
2025-08-27 21:02:11 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 90.7445ms
2025-08-27 21:02:29 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 66
2025-08-27 21:02:29 [Warning] Failed to determine the https port for redirect.
2025-08-27 21:02:29 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 21:02:29 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-08-27 21:02:30 [Warning] The foreign key property '"SessionUser"."UserId1"' was created in shadow state because a conflicting property with the simple name '"UserId"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-27 21:02:31 [Information] Executed DbCommand ("39"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-08-27 21:02:31 [Information] User "dionisis2" logged in successfully at 08/27/2025 18:02:31
2025-08-27 21:02:31 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 21:02:31 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 1764.26ms
2025-08-27 21:02:31 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 21:02:31 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 1834.9151ms
2025-08-27 21:02:52 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-08-27 21:02:52 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-08-27 21:02:52 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 21:02:52 [Information] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-08-27 21:02:52 [Information] Friendlist for user with ID 3 was found and returned
2025-08-27 21:02:52 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:02:52 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 118.0101ms
2025-08-27 21:02:52 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-08-27 21:02:52 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 160.6281ms
2025-08-27 21:03:27 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-08-27 21:03:27 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-08-27 21:03:27 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 21:03:27 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-08-27 21:03:27 [Information] Friendlist for user with ID 3 was found and returned
2025-08-27 21:03:27 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:03:27 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 54.268ms
2025-08-27 21:03:27 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-08-27 21:03:27 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 68.1782ms
2025-08-27 21:03:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/pending""" - null null
2025-08-27 21:03:30 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)"'
2025-08-27 21:03:30 [Information] Route matched with "{action = \"GetPendingRequests\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingRequests()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 21:03:30 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-08-27 21:03:30 [Information] Friend requestes for user with ID 3 were found and returned
2025-08-27 21:03:30 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:03:30 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)" in 14.3781ms
2025-08-27 21:03:30 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)"'
2025-08-27 21:03:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/pending""" - 200 null "application/json; charset=utf-8" 28.6926ms
2025-08-27 21:04:23 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - "application/json" 99
2025-08-27 21:04:23 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-08-27 21:04:23 [Information] Route matched with "{action = \"Register\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.IOU.DTOs.UserRegisterDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-08-27 21:04:23 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-08-27 21:04:23 [Information] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 225)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1"
2025-08-27 21:04:23 [Information] Executed DbCommand ("22"ms) [Parameters=["@p0='?' (Size = 225), @p1='?' (Size = 255), @p2='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Users` (`Email`, `Password`, `Username`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 21:04:23 [Information] User "dionisis4" registered successfully at 08/27/2025 18:04:23
2025-08-27 21:04:23 [Information] Executing "CreatedAtActionResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-08-27 21:04:23 [Information] Executed action "Api.IOU.Controllers.UserController.Register (IOU)" in 494.0578ms
2025-08-27 21:04:23 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-08-27 21:04:23 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - 201 null "application/json; charset=utf-8" 505.1119ms
2025-08-27 21:04:38 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - null 0
2025-08-27 21:04:38 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-08-27 21:04:38 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 21:04:38 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-08-27 21:04:38 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 21:04:38 [Information] Friend request send by user with iD 3 to User with ID 5
2025-08-27 21:04:38 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:04:38 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 51.9026ms
2025-08-27 21:04:38 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-08-27 21:04:38 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/5""" - 200 null "application/json; charset=utf-8" 61.4287ms
2025-08-27 21:04:56 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 66
2025-08-27 21:04:56 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 21:04:56 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-08-27 21:04:56 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-08-27 21:04:56 [Information] User "dionisis4" logged in successfully at 08/27/2025 18:04:56
2025-08-27 21:04:56 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 21:04:56 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 128.6204ms
2025-08-27 21:04:56 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 21:04:56 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 134.756ms
2025-08-27 21:05:20 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/pending""" - null null
2025-08-27 21:05:20 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)"'
2025-08-27 21:05:20 [Information] Route matched with "{action = \"GetPendingRequests\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingRequests()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 21:05:20 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-08-27 21:05:20 [Information] Friend requestes for user with ID 5 were found and returned
2025-08-27 21:05:20 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:05:20 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)" in 7.7431ms
2025-08-27 21:05:20 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)"'
2025-08-27 21:05:20 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/pending""" - 200 null "application/json; charset=utf-8" 14.9557ms
2025-08-27 21:05:42 [Information] Request starting "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/3""" - null null
2025-08-27 21:05:42 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-08-27 21:05:42 [Information] Route matched with "{action = \"DenyFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 21:05:42 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-08-27 21:05:42 [Information] Friend request with ID 3 denied
2025-08-27 21:05:42 [Information] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
DELETE FROM `Friendships`
WHERE `Id` = @p0;
SELECT ROW_COUNT();"
2025-08-27 21:05:42 [Information] Friend request denied from user 5
2025-08-27 21:05:42 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 21:05:42 [Information] Executed action "Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)" in 50.6545ms
2025-08-27 21:05:42 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.DenyFriendRequest (IOU)"'
2025-08-27 21:05:42 [Information] Request finished "HTTP/1.1" "DELETE" "http"://"localhost:5062""""/api/friendship/deny/3""" - 200 null "application/json; charset=utf-8" 60.3551ms
2025-08-27 21:05:59 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - null 0
2025-08-27 21:05:59 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-08-27 21:05:59 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 21:05:59 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-08-27 21:05:59 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 21:05:59 [Information] Friend request send by user with iD 5 to User with ID 3
2025-08-27 21:05:59 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:05:59 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 19.1049ms
2025-08-27 21:05:59 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-08-27 21:05:59 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/3""" - 200 null "application/json; charset=utf-8" 26.8499ms
2025-08-27 21:06:19 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 66
2025-08-27 21:06:19 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 21:06:19 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-08-27 21:06:19 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-08-27 21:06:19 [Information] User "dionisis2" logged in successfully at 08/27/2025 18:06:19
2025-08-27 21:06:19 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 21:06:19 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 132.3366ms
2025-08-27 21:06:19 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 21:06:19 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 140.6744ms
2025-08-27 21:06:42 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/pending""" - null null
2025-08-27 21:06:42 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)"'
2025-08-27 21:06:42 [Information] Route matched with "{action = \"GetPendingRequests\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingRequests()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 21:06:42 [Information] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-08-27 21:06:42 [Information] Friend requestes for user with ID 3 were found and returned
2025-08-27 21:06:42 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:06:42 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)" in 8.6745ms
2025-08-27 21:06:42 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)"'
2025-08-27 21:06:42 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/pending""" - 200 null "application/json; charset=utf-8" 14.5137ms
2025-08-27 21:06:50 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/4""" - null 0
2025-08-27 21:06:50 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-08-27 21:06:50 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 21:06:50 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-08-27 21:06:50 [Information] Friend request with ID 4 accepted
2025-08-27 21:06:50 [Information] Executed DbCommand ("7"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-08-27 21:06:50 [Information] Friend request accepted from user 3
2025-08-27 21:06:50 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:06:50 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 25.1052ms
2025-08-27 21:06:50 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-08-27 21:06:50 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/4""" - 200 null "application/json; charset=utf-8" 34.6848ms
2025-08-27 21:07:09 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 14
2025-08-27 21:07:09 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-08-27 21:07:09 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(System.String)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-08-27 21:07:09 [Information] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Sessions` (`CreatedAt`, `CreatedById`, `Name`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Sessions`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 21:07:09 [Information] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`, `UserId1`)
VALUES (@p0, @p1, @p2);"
2025-08-27 21:07:09 [Information] Session "TestSession!" created by user 3
2025-08-27 21:07:09 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-08-27 21:07:09 [Information] Session Created with ID: 1
2025-08-27 21:07:09 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.SessionDTO"'.
2025-08-27 21:07:09 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 67.1597ms
2025-08-27 21:07:09 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-08-27 21:07:09 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 200 null "application/json; charset=utf-8" 76.7303ms
2025-08-27 21:07:46 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/1/add/5""" - null 0
2025-08-27 21:07:46 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-08-27 21:07:46 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-08-27 21:07:46 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-27 21:07:46 [Information] Executed DbCommand ("24"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`UserId1`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `s0`.`UserId1`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-08-27 21:07:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-08-27 21:07:46 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-08-27 21:07:46 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`, `UserId1`)
VALUES (@p0, @p1, @p2);"
2025-08-27 21:07:46 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 21:07:46 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 104.4292ms
2025-08-27 21:07:46 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-08-27 21:07:46 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/1/add/5""" - 200 null "application/json; charset=utf-8" 113.2309ms
2025-08-27 21:08:03 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/1""" - null null
2025-08-27 21:08:03 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetParticiapnts (IOU)"'
2025-08-27 21:08:03 [Information] Route matched with "{action = \"GetParticiapnts\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetParticiapnts(Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-08-27 21:08:03 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`UserId1`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `s0`.`UserId1`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-08-27 21:08:03 [Information] Executed DbCommand ("1"ms) [Parameters=["@__sessionId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s`.`UserId1`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Users` AS `u` ON `s`.`UserId` = `u`.`Id`
WHERE `s`.`SessionId` = @__sessionId_0"
2025-08-27 21:08:03 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListSelectIterator`2[[api.IOU.Models.SessionUser, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.UserDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:08:03 [Information] Executed action "Api.IOU.Controllers.SessionController.GetParticiapnts (IOU)" in 20.5924ms
2025-08-27 21:08:03 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetParticiapnts (IOU)"'
2025-08-27 21:08:03 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/1""" - 200 null "application/json; charset=utf-8" 35.0505ms
2025-08-27 21:08:23 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - null null
2025-08-27 21:08:23 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-08-27 21:08:23 [Information] Route matched with "{action = \"GetMySessions\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySessions()" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-08-27 21:08:23 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-08-27 21:08:23 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`SessionId`, `s`.`UserId`, `s`.`UserId1`, `s0`.`Id`, `s0`.`CreatedAt`, `s0`.`CreatedById`, `s0`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`UserId1`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`
FROM `Sessionusers` AS `s`
INNER JOIN `Sessions` AS `s0` ON `s`.`SessionId` = `s0`.`Id`
LEFT JOIN (
    SELECT `s1`.`SessionId`, `s1`.`UserId`, `s1`.`UserId1`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s1`
    INNER JOIN `Users` AS `u` ON `s1`.`UserId` = `u`.`Id`
) AS `s2` ON `s0`.`Id` = `s2`.`SessionId`
WHERE `s`.`UserId` = @__userId_0
ORDER BY `s`.`SessionId`, `s`.`UserId`, `s0`.`Id`, `s2`.`SessionId`, `s2`.`UserId`"
2025-08-27 21:08:23 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+IteratorSelectIterator`2[[Api.IOU.Models.Session, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.SessionDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 21:08:23 [Information] Executed action "Api.IOU.Controllers.SessionController.GetMySessions (IOU)" in 33.2887ms
2025-08-27 21:08:23 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.GetMySessions (IOU)"'
2025-08-27 21:08:23 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/sessions/my-sessions""" - 200 null "application/json; charset=utf-8" 42.6145ms
2025-08-27 21:08:34 [Information] Application is shutting down...
2025-08-27 22:15:50 [Warning] The foreign key property '"SessionUser"."UserId1"' was created in shadow state because a conflicting property with the simple name '"UserId"' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-27 22:20:31 [Information] Executed DbCommand ("69"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ioudb' AND TABLE_NAME='__EFMigrationsHistory';"
2025-08-27 22:20:31 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2025-08-27 22:23:25 [Information] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-27 22:23:25 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT GET_LOCK('__ioudb_EFMigrationsLock', 259200)"
2025-08-27 22:23:25 [Information] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE IF NOT EXISTS `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;"
2025-08-27 22:23:25 [Information] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ioudb' AND TABLE_NAME='__EFMigrationsHistory';"
2025-08-27 22:23:25 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
2025-08-27 22:23:25 [Information] Applying migration '"20250827192111_FixSessionUserRelationship"'.
2025-08-27 22:23:25 [Information] Executed DbCommand ("61"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE `Sessionusers` DROP FOREIGN KEY `FK_Sessionusers_Users_UserId1`;"
2025-08-27 22:23:25 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE `Sessionusers` DROP INDEX `IX_Sessionusers_UserId1`;"
2025-08-27 22:23:25 [Information] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE `Sessionusers` DROP COLUMN `UserId1`;"
2025-08-27 22:23:26 [Information] Executed DbCommand ("73"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE `ExpenseSplits` ADD `Status` longtext CHARACTER SET utf8mb4 NOT NULL;"
2025-08-27 22:23:26 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250827192111_FixSessionUserRelationship', '9.0.8');"
2025-08-27 22:23:26 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT RELEASE_LOCK('__ioudb_EFMigrationsLock')"
2025-08-27 23:39:33 [Information] User profile is available. Using '"C:\Users\Dioni\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-27 23:39:33 [Information] Now listening on: "http://localhost:5062"
2025-08-27 23:39:33 [Information] Application started. Press Ctrl+C to shut down.
2025-08-27 23:39:33 [Information] Hosting environment: "Development"
2025-08-27 23:39:33 [Information] Content root path: "C:\Users\Dioni\OneDrive\Desktop\Projects\IOU\api\iou"
2025-08-27 23:39:34 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - null null
2025-08-27 23:39:34 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 70.1891ms
2025-08-27 23:39:34 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - null null
2025-08-27 23:39:34 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 61.3669ms
2025-08-27 23:40:05 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 66
2025-08-27 23:40:05 [Warning] Failed to determine the https port for redirect.
2025-08-27 23:40:05 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 23:40:05 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-08-27 23:40:06 [Information] Executed DbCommand ("70"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-08-27 23:40:07 [Information] User "dionisis2" logged in successfully at 08/27/2025 20:40:07
2025-08-27 23:40:07 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 23:40:07 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 2176.3416ms
2025-08-27 23:40:07 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 23:40:07 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 2330.6539ms
2025-08-27 23:40:26 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-08-27 23:40:26 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-08-27 23:40:26 [Information] Route matched with "{action = \"GetFriends\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriends()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 23:40:26 [Information] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-08-27 23:40:26 [Information] Friendlist for user with ID 3 was found and returned
2025-08-27 23:40:26 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 23:40:26 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetFriends (IOU)" in 126.9959ms
2025-08-27 23:40:26 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetFriends (IOU)"'
2025-08-27 23:40:26 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 200 null "application/json; charset=utf-8" 170.3795ms
2025-08-27 23:41:43 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 13
2025-08-27 23:41:43 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-08-27 23:41:43 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(System.String)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-08-27 23:41:43 [Information] Executed DbCommand ("24"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Sessions` (`CreatedAt`, `CreatedById`, `Name`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Sessions`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 23:41:43 [Information] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-08-27 23:41:43 [Information] Session "testSession" created by user 3
2025-08-27 23:41:43 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-08-27 23:41:43 [Information] Session Created with ID: 2
2025-08-27 23:41:43 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.SessionDTO"'.
2025-08-27 23:41:43 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 212.078ms
2025-08-27 23:41:43 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-08-27 23:41:43 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 200 null "application/json; charset=utf-8" 227.6072ms
2025-08-27 23:42:07 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/2/add/5""" - null 0
2025-08-27 23:42:07 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-08-27 23:42:07 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-08-27 23:42:07 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-27 23:42:07 [Information] Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-08-27 23:42:07 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-08-27 23:42:07 [Information] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-08-27 23:42:07 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-08-27 23:42:07 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 23:42:07 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 100.5237ms
2025-08-27 23:42:07 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-08-27 23:42:07 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/2/add/5""" - 200 null "application/json; charset=utf-8" 116.3681ms
2025-08-27 23:43:26 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 188
2025-08-27 23:43:26 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:43:26 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:43:26 [Information] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-08-27 23:43:26 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-08-27 23:43:26 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 19.7506ms
2025-08-27 23:43:26 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:43:26 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 400 null "text/plain; charset=utf-8" 27.9464ms
2025-08-27 23:46:06 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 114
2025-08-27 23:46:06 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:46:06 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:46:06 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-08-27 23:46:06 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 20.6647ms
2025-08-27 23:46:06 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:46:06 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 400 null "application/problem+json; charset=utf-8" 29.7159ms
2025-08-27 23:47:34 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 114
2025-08-27 23:47:34 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:47:34 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:47:34 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-08-27 23:47:34 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 10.1049ms
2025-08-27 23:47:34 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:47:34 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 400 null "application/problem+json; charset=utf-8" 20.3258ms
2025-08-27 23:48:47 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 115
2025-08-27 23:48:47 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:48:47 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:48:47 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-08-27 23:48:47 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 1.8961ms
2025-08-27 23:48:47 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:48:47 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 400 null "application/problem+json; charset=utf-8" 8.8571ms
2025-08-27 23:50:40 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 115
2025-08-27 23:50:40 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:50:40 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:50:40 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-08-27 23:50:40 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 2.1993ms
2025-08-27 23:50:40 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:50:40 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 400 null "application/problem+json; charset=utf-8" 9.005ms
2025-08-27 23:51:09 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 205
2025-08-27 23:51:09 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:51:09 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:51:09 [Information] Executed DbCommand ("18"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-08-27 23:51:09 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-08-27 23:51:09 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 97.0003ms
2025-08-27 23:51:09 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:51:09 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 400 null "text/plain; charset=utf-8" 102.8845ms
2025-08-27 23:51:27 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 205
2025-08-27 23:51:27 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:51:27 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:51:27 [Information] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-08-27 23:51:27 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-08-27 23:51:27 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 14.0853ms
2025-08-27 23:51:27 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:51:27 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 400 null "text/plain; charset=utf-8" 19.9066ms
2025-08-27 23:51:46 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 205
2025-08-27 23:51:46 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:51:46 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:51:46 [Information] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-08-27 23:51:46 [Information] Executing "BadRequestObjectResult", writing value of type '"System.String"'.
2025-08-27 23:51:46 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 8.3697ms
2025-08-27 23:51:46 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:51:46 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 400 null "text/plain; charset=utf-8" 13.7922ms
2025-08-27 23:52:17 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - null null
2025-08-27 23:52:17 [Information] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2025-08-27 23:52:17 [Information] AuthenticationScheme: "Bearer" was challenged.
2025-08-27 23:52:17 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/friends""" - 401 0 null 13.0978ms
2025-08-27 23:52:33 [Information] Application is shutting down...
2025-08-27 23:52:45 [Information] User profile is available. Using '"C:\Users\Dioni\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-27 23:52:45 [Information] Now listening on: "http://localhost:5062"
2025-08-27 23:52:45 [Information] Application started. Press Ctrl+C to shut down.
2025-08-27 23:52:45 [Information] Hosting environment: "Development"
2025-08-27 23:52:45 [Information] Content root path: "C:\Users\Dioni\OneDrive\Desktop\Projects\IOU\api\iou"
2025-08-27 23:52:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - null null
2025-08-27 23:52:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 70.6123ms
2025-08-27 23:52:45 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - null null
2025-08-27 23:52:45 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 69.8125ms
2025-08-27 23:53:18 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - "application/json" 95
2025-08-27 23:53:18 [Warning] Failed to determine the https port for redirect.
2025-08-27 23:53:18 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-08-27 23:53:18 [Information] Route matched with "{action = \"Register\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.IOU.DTOs.UserRegisterDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-08-27 23:53:19 [Information] Executed DbCommand ("31"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-08-27 23:53:19 [Information] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 225)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1"
2025-08-27 23:53:20 [Information] Executed DbCommand ("12"ms) [Parameters=["@p0='?' (Size = 225), @p1='?' (Size = 255), @p2='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Users` (`Email`, `Password`, `Username`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 23:53:20 [Information] User "test1" registered successfully at 08/27/2025 20:53:20
2025-08-27 23:53:20 [Information] Executing "CreatedAtActionResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-08-27 23:53:20 [Information] Executed action "Api.IOU.Controllers.UserController.Register (IOU)" in 1625.1098ms
2025-08-27 23:53:20 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-08-27 23:53:20 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - 201 null "application/json; charset=utf-8" 1695.2976ms
2025-08-27 23:53:44 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - "application/json" 96
2025-08-27 23:53:44 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-08-27 23:53:44 [Information] Route matched with "{action = \"Register\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.IOU.DTOs.UserRegisterDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-08-27 23:53:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-08-27 23:53:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 225)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1"
2025-08-27 23:53:44 [Information] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 225), @p1='?' (Size = 255), @p2='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Users` (`Email`, `Password`, `Username`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Users`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 23:53:44 [Information] User "test2" registered successfully at 08/27/2025 20:53:44
2025-08-27 23:53:44 [Information] Executing "CreatedAtActionResult", writing value of type '"Api.IOU.DTOs.UserDTO"'.
2025-08-27 23:53:44 [Information] Executed action "Api.IOU.Controllers.UserController.Register (IOU)" in 410.2185ms
2025-08-27 23:53:44 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Register (IOU)"'
2025-08-27 23:53:44 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/register""" - 201 null "application/json; charset=utf-8" 418.7203ms
2025-08-27 23:54:21 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 63
2025-08-27 23:54:21 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 23:54:21 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-08-27 23:54:21 [Information] Executed DbCommand ("0"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-08-27 23:54:21 [Information] User "test1" logged in successfully at 08/27/2025 20:54:21
2025-08-27 23:54:21 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 23:54:21 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 195.2274ms
2025-08-27 23:54:21 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 23:54:21 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 214.51ms
2025-08-27 23:54:52 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/7""" - null 0
2025-08-27 23:54:52 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-08-27 23:54:52 [Information] Route matched with "{action = \"SendFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 23:54:52 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-08-27 23:54:52 [Information] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Friendships` (`FriendId`, `Status`, `UserId`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Friendships`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 23:54:52 [Information] Friend request send by user with iD 6 to User with ID 7
2025-08-27 23:54:52 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 23:54:52 [Information] Executed action "Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)" in 70.9093ms
2025-08-27 23:54:52 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.SendFriendRequest (IOU)"'
2025-08-27 23:54:52 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/friendship/7""" - 200 null "application/json; charset=utf-8" 124.5847ms
2025-08-27 23:55:13 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - "application/json" 63
2025-08-27 23:55:13 [Information] Executing endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 23:55:13 [Information] Route matched with "{action = \"Login\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.IOU.DTOs.LoginDTO)" on controller "Api.IOU.Controllers.UserController" ("IOU").
2025-08-27 23:55:13 [Information] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__username_0
LIMIT 1"
2025-08-27 23:55:14 [Information] User "test2" logged in successfully at 08/27/2025 20:55:14
2025-08-27 23:55:14 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 23:55:14 [Information] Executed action "Api.IOU.Controllers.UserController.Login (IOU)" in 122.4825ms
2025-08-27 23:55:14 [Information] Executed endpoint '"Api.IOU.Controllers.UserController.Login (IOU)"'
2025-08-27 23:55:14 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/user/login""" - 200 null "application/json; charset=utf-8" 128.6472ms
2025-08-27 23:55:30 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/pending""" - null null
2025-08-27 23:55:30 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)"'
2025-08-27 23:55:30 [Information] Route matched with "{action = \"GetPendingRequests\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingRequests()" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 23:55:30 [Information] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`, `u0`.`Id`, `u0`.`Email`, `u0`.`Password`, `u0`.`Username`
FROM `Friendships` AS `f`
INNER JOIN `Users` AS `u` ON `f`.`UserId` = `u`.`Id`
INNER JOIN `Users` AS `u0` ON `f`.`FriendId` = `u0`.`Id`
WHERE (`f`.`UserId` = @__userId_0) OR (`f`.`FriendId` = @__userId_0)"
2025-08-27 23:55:30 [Information] Friend requestes for user with ID 7 were found and returned
2025-08-27 23:55:30 [Information] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+ListWhereSelectIterator`2[[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Api.IOU.DTOs.FriendshipDTO, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 23:55:30 [Information] Executed action "Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)" in 87.8109ms
2025-08-27 23:55:30 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.GetPendingRequests (IOU)"'
2025-08-27 23:55:30 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:5062""""/api/friendship/pending""" - 200 null "application/json; charset=utf-8" 100.2982ms
2025-08-27 23:55:49 [Information] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/5""" - null 0
2025-08-27 23:55:49 [Information] Executing endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-08-27 23:55:49 [Information] Route matched with "{action = \"AcceptFriendRequest\", controller = \"Friendship\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptFriendRequest(Int32)" on controller "Api.IOU.Controllers.FriendshipController" ("IOU").
2025-08-27 23:55:49 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE `f`.`Id` = @__p_0
LIMIT 1"
2025-08-27 23:55:49 [Information] Friend request with ID 5 accepted
2025-08-27 23:55:49 [Information] Executed DbCommand ("7"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
UPDATE `Friendships` SET `FriendId` = @p0, `Status` = @p1, `UserId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();"
2025-08-27 23:55:49 [Information] Friend request accepted from user 7
2025-08-27 23:55:49 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Api.IOU.Models.Friendship, IOU, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-08-27 23:55:49 [Information] Executed action "Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)" in 43.2666ms
2025-08-27 23:55:49 [Information] Executed endpoint '"Api.IOU.Controllers.FriendshipController.AcceptFriendRequest (IOU)"'
2025-08-27 23:55:49 [Information] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5062""""/api/friendship/accept/5""" - 200 null "application/json; charset=utf-8" 54.6006ms
2025-08-27 23:56:06 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - "application/json" 16
2025-08-27 23:56:06 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-08-27 23:56:06 [Information] Route matched with "{action = \"CreateSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSession(System.String)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-08-27 23:56:06 [Information] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Sessions` (`CreatedAt`, `CreatedById`, `Name`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `Sessions`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 23:56:06 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-08-27 23:56:06 [Information] Session "TestingSession" created by user 7
2025-08-27 23:56:06 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-08-27 23:56:06 [Information] Session Created with ID: 3
2025-08-27 23:56:06 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.DTOs.SessionDTO"'.
2025-08-27 23:56:06 [Information] Executed action "Api.IOU.Controllers.SessionController.CreateSession (IOU)" in 68.8299ms
2025-08-27 23:56:06 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.CreateSession (IOU)"'
2025-08-27 23:56:06 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions""" - 200 null "application/json; charset=utf-8" 77.8224ms
2025-08-27 23:57:04 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 117
2025-08-27 23:57:04 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:57:04 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:57:04 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-08-27 23:57:04 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 22.5485ms
2025-08-27 23:57:04 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:57:04 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 400 null "application/problem+json; charset=utf-8" 32.9512ms
2025-08-27 23:58:19 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/3/add/6""" - null 0
2025-08-27 23:58:19 [Information] Executing endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-08-27 23:58:19 [Information] Route matched with "{action = \"AddUserToSession\", controller = \"Session\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToSession(Int32, Int32)" on controller "Api.IOU.Controllers.SessionController" ("IOU").
2025-08-27 23:58:19 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-27 23:58:19 [Information] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-08-27 23:58:19 [Information] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Id` = @__p_0
LIMIT 1"
2025-08-27 23:58:19 [Information] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32), @__friendId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `f`.`Id`, `f`.`FriendId`, `f`.`Status`, `f`.`UserId`
FROM `Friendships` AS `f`
WHERE ((`f`.`UserId` = @__userId_0) AND (`f`.`FriendId` = @__friendId_1)) OR ((`f`.`UserId` = @__friendId_1) AND (`f`.`FriendId` = @__userId_0))
LIMIT 1"
2025-08-27 23:58:19 [Information] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET AUTOCOMMIT = 1;
INSERT INTO `Sessionusers` (`SessionId`, `UserId`)
VALUES (@p0, @p1);"
2025-08-27 23:58:19 [Information] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-08-27 23:58:19 [Information] Executed action "Api.IOU.Controllers.SessionController.AddUserToSession (IOU)" in 94.0089ms
2025-08-27 23:58:19 [Information] Executed endpoint '"Api.IOU.Controllers.SessionController.AddUserToSession (IOU)"'
2025-08-27 23:58:19 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/sessions/3/add/6""" - 200 null "application/json; charset=utf-8" 102.5066ms
2025-08-27 23:58:31 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 117
2025-08-27 23:58:31 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:58:31 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:58:31 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-08-27 23:58:31 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 2.6543ms
2025-08-27 23:58:31 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:58:31 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 400 null "application/problem+json; charset=utf-8" 9.1239ms
2025-08-27 23:58:47 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - "application/json" 116
2025-08-27 23:58:47 [Information] Executing endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:58:47 [Information] Route matched with "{action = \"CreateExpense\", controller = \"Expense\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateExpense(Api.IOU.DTOs.AddExpenseDTO)" on controller "Api.IOU.Controllers.ExpenseController" ("IOU").
2025-08-27 23:58:47 [Information] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s1`.`Id`, `s1`.`CreatedAt`, `s1`.`CreatedById`, `s1`.`Name`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s2`.`Email`, `s2`.`Password`, `s2`.`Username`, `s3`.`Id`, `s3`.`CreatedAt`, `s3`.`Description`, `s3`.`PaidById`, `s3`.`SessionId`, `s3`.`TotalAmount`, `s3`.`Id0`, `s3`.`Amount`, `s3`.`ExpenseId`, `s3`.`Status`, `s3`.`UserId`
FROM (
    SELECT `s`.`Id`, `s`.`CreatedAt`, `s`.`CreatedById`, `s`.`Name`
    FROM `Sessions` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `s1`
LEFT JOIN (
    SELECT `s0`.`SessionId`, `s0`.`UserId`, `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`Username`
    FROM `Sessionusers` AS `s0`
    INNER JOIN `Users` AS `u` ON `s0`.`UserId` = `u`.`Id`
) AS `s2` ON `s1`.`Id` = `s2`.`SessionId`
LEFT JOIN (
    SELECT `e`.`Id`, `e`.`CreatedAt`, `e`.`Description`, `e`.`PaidById`, `e`.`SessionId`, `e`.`TotalAmount`, `e0`.`Id` AS `Id0`, `e0`.`Amount`, `e0`.`ExpenseId`, `e0`.`Status`, `e0`.`UserId`
    FROM `Expenses` AS `e`
    LEFT JOIN `ExpenseSplits` AS `e0` ON `e`.`Id` = `e0`.`ExpenseId`
) AS `s3` ON `s1`.`Id` = `s3`.`SessionId`
ORDER BY `s1`.`Id`, `s2`.`SessionId`, `s2`.`UserId`, `s2`.`Id`, `s3`.`Id`"
2025-08-27 23:58:47 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (Size = 500), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `Expenses` (`CreatedAt`, `Description`, `PaidById`, `SessionId`, `TotalAmount`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `Id`
FROM `Expenses`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 23:58:47 [Information] Executed DbCommand ("2"ms) [Parameters=["@p5='?' (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ExpenseSplits` (`Amount`, `ExpenseId`, `Status`, `UserId`)
VALUES (@p5, @p6, @p7, @p8);
SELECT `Id`
FROM `ExpenseSplits`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `ExpenseSplits` (`Amount`, `ExpenseId`, `Status`, `UserId`)
VALUES (@p9, @p10, @p11, @p12);
SELECT `Id`
FROM `ExpenseSplits`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
2025-08-27 23:58:47 [Information] Expense with ID 1 created in session 3
2025-08-27 23:58:47 [Information] Executing "OkObjectResult", writing value of type '"Api.IOU.Models.Expense"'.
2025-08-27 23:58:48 [Information] Executed action "Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)" in 82.0724ms
2025-08-27 23:58:48 [Information] Executed endpoint '"Api.IOU.Controllers.ExpenseController.CreateExpense (IOU)"'
2025-08-27 23:58:48 [Error] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Session.CreatedBy.Sessions.Session.CreatedBy.Sessions.Session.CreatedBy.Sessions.Session.CreatedBy.Sessions.Session.CreatedBy.Sessions.Session.CreatedBy.Sessions.Session.CreatedBy.Sessions.Session.CreatedBy.Sessions.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-27 23:58:48 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:5062""""/api/expenses""" - 500 null "text/plain; charset=utf-8" 126.6744ms
